import{c as y,a as T,b as L,o as z,b1 as I,j as s,T as i,S as l,G as x,I as g,e as w,h as C,s as a,i as f}from"./index-oaA_Ltxz.js";import{M as W}from"./ModalComponent-DTq5tozF.js";const F=e=>z({mt5Login:a({required_error:"MT5 Login is required"}),PassMain:e==="main"?a().min(8,"Main password must be at least 8 characters").refine(n=>/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])/.test(n),{message:"Main password must include uppercase, lowercase, number & special character"}):a().optional(),PassInvestor:e==="investor"?a().min(8,"Investor password must be at least 8 characters").refine(n=>/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])/.test(n),{message:"Investor password must include uppercase, lowercase, number & special character"}):a().optional()});function A({data:e,onClose:n}){const m=e==null?void 0:e.mt5Login,t=e==null?void 0:e.passwordType,r=y(),p={mt5Login:m,PassMain:"",PassInvestor:""},{register:h,handleSubmit:b,reset:P,formState:{errors:c}}=T({resolver:L(F(t)),defaultValues:p}),[j,{isLoading:M}]=I(),S=async d=>{var u;const v={mt5Login:d.mt5Login,[t==="main"?"PassMain":"PassInvestor"]:t==="main"?d.PassMain:d.PassInvestor};try{const o=await j(v).unwrap();o!=null&&o.status&&(r(f({open:!0,message:o==null?void 0:o.message,severity:"success"})),n(),P(p))}catch(o){r(f({open:!0,message:((u=o==null?void 0:o.data)==null?void 0:u.message)||"Failed to submit.",severity:"error"}))}};return s.jsxs(s.Fragment,{children:[s.jsx(i,{sx:{fontSize:"1.5rem",fontWeight:"700",mb:"15px"},children:"Change MT5 Password"}),s.jsxs(l,{component:"form",onSubmit:b(S),children:[t==="main"&&s.jsxs(x,{size:{xs:12,sm:6,md:4},children:[s.jsx(g,{sx:{mb:".5rem"},children:"Main Password *"}),s.jsx(w,{...h("PassMain"),size:"small",fullWidth:!0,placeholder:"Please type main password..."}),c.PassMain&&s.jsx(i,{color:"error",fontSize:"14px",children:c.PassMain.message})]}),t==="investor"&&s.jsxs(x,{size:{xs:12,sm:6,md:4},children:[s.jsx(g,{sx:{mb:".5rem"},children:"Investor Password *"}),s.jsx(w,{...h("PassInvestor"),size:"small",fullWidth:!0,placeholder:"Please type investor password..."}),c.PassInvestor&&s.jsx(i,{color:"error",fontSize:"14px",children:c.PassInvestor.message})]}),s.jsx(C,{variant:"contained",type:"submit",disabled:M,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}function G({data:e}){const n=e==null?void 0:e.passwordAndLoginData,m=e==null?void 0:e.type;return s.jsxs(l,{sx:{flexDirection:"row",justifyContent:"space-between"},children:[s.jsxs(l,{children:[s.jsx(i,{fontSize:"1rem",fontWeight:"bold",children:"MT5 Login"}),n==null?void 0:n.map((t,r)=>s.jsx(W,{type:"text",modalWidth:{xs:"90%",sm:600},btnName:t.mt5Login,Content:A,contentData:{mt5Login:t.mt5Login,passwordType:m},btnSx:{mt:"10px",textDecoration:"underline"}},r))]}),s.jsxs(l,{children:[s.jsx(i,{fontSize:"1rem",fontWeight:"bold",alignSelf:"end",children:"Password"}),n==null?void 0:n.map((t,r)=>s.jsx(i,{mt:"10px",alignSelf:"end",children:t.password},r))]})]})}export{G as M};
