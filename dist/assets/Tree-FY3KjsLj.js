import{j as t,ar as d,Z as p,r as x,_ as h,h as f,a1 as j,a2 as b,aW as g,c as C,cY as L,S}from"./index-Bjlp2vES.js";import{C as y}from"./Card--HSV-vWh.js";import{L as T,E as k}from"./ExpandLess-BB_7jEBg.js";function m({node:s,onClick:a}){var l;const[n,e]=x.useState(!1),r=()=>{a(s.title)},c=o=>{o.stopPropagation(),s.hasChildren&&e(i=>!i)};return t.jsxs(t.Fragment,{children:[t.jsxs(h,{button:!0,onClick:r,sx:{pl:2},children:[t.jsx(T,{primary:s.title,sx:{"& .MuiListItemText-primary":{fontSize:"15px"},cursor:"pointer"}}),s.hasChildren&&t.jsx(f,{onClick:c,size:"small",variant:"contained",type:"submit",sx:{textTransform:"capitalize",minWidth:"1.5rem",p:"4px",boxShadow:"none",fontSize:"1rem",color:"white",ml:"1rem","&:hover":{boxShadow:"none"}},children:n?t.jsx(k,{}):t.jsx(j,{})})]}),s.hasChildren&&t.jsx(b,{in:n,timeout:"auto",unmountOnExit:!0,children:t.jsx(p,{component:"div",disablePadding:!0,children:(l=s.children)==null?void 0:l.filter(Boolean).map((o,i)=>t.jsx(m,{node:o,onClick:a},i))})})]})}function E({listData:s=[],onClick:a,loadingListData:n}){return t.jsx(y,{sx:{p:"1rem",display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:n?t.jsx(d,{}):t.jsx(p,{children:s.map((e,r)=>t.jsx(m,{node:e,onClick:a},r))})})}function u(s){const a=[];for(const n in s){const e=s[n],r={title:n,hasChildren:e&&typeof e=="object",children:e&&typeof e=="object"?u(e):[]};a.push(r)}return a}function D(){const{id:s}=g(),[a,n]=x.useState(!1);C();const{data:e,isLoading:r}=L({ibId:s}),c=e!=null&&e.data?u(e==null?void 0:e.data):[];function l(o){const i=o==null?void 0:o.match(/-(\w+)-/);i&&i[1],n(!0)}return t.jsx(S,{mt:"2rem",children:t.jsx(E,{listData:c,loadingListData:r,onClick:l})})}export{D as default};
