import{j as e,B as d,G as a,T as o,S as N,o as A,s as b,r as y,u as W,a as E,b as L,c as P,d as R,I as j,e as V,O as B,f as F,g as M,V as O,h as H,i as U,k as C}from"./index-BuLT-AS9.js";import{V as _}from"./Visibility-B0ASwFBW.js";import{f as q,a as G,T as Y,g as $,H as J}from"./index-D_PoPMfN.js";import{C as K}from"./Container-B9G3Qyuc.js";import"./ModalComponent-CNxH8GAn.js";const Q="Vinnexia Capital";function X(){return e.jsxs(d,{sx:{bgcolor:"#11191E",borderTop:"1px solid #848F94",py:4,px:{xs:"1rem",md:"2rem"},mt:"auto"},children:[e.jsxs(a,{container:!0,size:12,spacing:{xs:4,sm:8},display:"flex",flexWrap:"wrap",children:[e.jsx(a,{size:{sm:8},children:q.map((s,i)=>e.jsx(o,{fontSize:"12px",color:"#CACDCC",mb:".4rem",sx:{opacity:.8,"&:hover":{opacity:1}},children:s},i))}),e.jsx(a,{size:{sm:4},children:G.map((s,i)=>e.jsx(o,{fontSize:"13px",color:"#7E6233",mb:".3rem",sx:{cursor:"pointer",transition:"all 0.3s ease","&:hover":{color:"#8f7040",textDecoration:"underline"}},children:s},i))})]}),e.jsxs(N,{my:"2rem",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{xs:"flex-start",sm:"center"},gap:2,children:[e.jsx(o,{fontSize:"13px",color:"#CACDCC",sx:{opacity:.7},children:"2.7.6-5-g10504d530"}),e.jsxs(o,{fontSize:"13px",color:"#CACDCC",sx:{opacity:.7},children:["Â© 2025. ",Q]})]})]})}const t=$("dark"),Z=A({userName:b().trim().min(1,"User name or email is required"),password:b().min(8,"Password must be at least 8 characters")}),ee="Vinnexia";function ne(){const[s,i]=y.useState(!1),w=y.useRef(null),S=()=>i(c=>!c),[z,{isLoading:m}]=W(),v={userName:"",password:""},{register:x,handleSubmit:k,setError:re,formState:{errors:n}}=E({resolver:L(Z),defaultValues:v}),l=P();R();const I=async c=>{var p,u,h,f,g;try{const r=await z(c).unwrap();if(r!=null&&r.status){const D=(p=r==null?void 0:r.data)==null?void 0:p.token,T=(h=(u=r==null?void 0:r.data)==null?void 0:u.userData)==null?void 0:h.id;w.current=U({token:D,dispatch:l,currentUserId:T}),l(C({open:!0,message:r==null?void 0:r.message,severity:"success"}))}}catch(r){(f=r==null?void 0:r.data)!=null&&f.status||l(C({open:!0,message:((g=r==null?void 0:r.data)==null?void 0:g.message)||"Failed to sign in. Please try again later.",severity:"error"}))}};return e.jsx(Y,{theme:t,children:e.jsxs(d,{display:"flex",flexDirection:"column",minHeight:"100vh",sx:{bgcolor:t.palette.background.default},children:[e.jsx(J,{}),e.jsx(d,{component:"main",flexGrow:1,sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:t.palette.background.default},children:e.jsxs(K,{maxWidth:"xs",component:"form",onSubmit:k(I),sx:{bgcolor:t.palette.background.paper,borderRadius:2,p:4,boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[e.jsxs(o,{sx:{fontSize:"1.7rem",fontWeight:"700",mb:"1.5rem",color:t.palette.text.primary,textAlign:"center"},children:["Welcome to ",ee]}),e.jsxs(a,{container:!0,size:12,spacing:3,children:[e.jsxs(a,{size:{xs:12},children:[e.jsx(j,{sx:{mb:".5rem",fontSize:"14px",color:t.palette.text.secondary,fontWeight:500},children:"Your email address or user name"}),e.jsx(V,{...x("userName",{required:!0}),fullWidth:!0,size:"small",sx:{"& .MuiOutlinedInput-root":{bgcolor:"rgba(255,255,255,0.05)",color:t.palette.text.primary,"& fieldset":{borderColor:t.palette.divider},"&:hover fieldset":{borderColor:t.palette.primary.main},"&.Mui-focused fieldset":{borderColor:t.palette.primary.main}}}}),n.userName&&e.jsx(o,{color:"error",fontSize:"14px",sx:{mt:.5},children:n.userName.message})]}),e.jsxs(a,{size:{xs:12},children:[e.jsx(j,{sx:{mb:".5rem",fontSize:"14px",color:t.palette.text.secondary,fontWeight:500},children:"Password"}),e.jsx(B,{...x("password",{required:!0}),size:"small",fullWidth:!0,type:s?"text":"password",sx:{bgcolor:"rgba(255,255,255,0.05)",color:t.palette.text.primary,"& fieldset":{borderColor:t.palette.divider},"&:hover fieldset":{borderColor:t.palette.primary.main},"&.Mui-focused fieldset":{borderColor:t.palette.primary.main}},endAdornment:e.jsx(F,{position:"end",children:e.jsx(M,{"aria-label":s?"hide the password":"display the password",onClick:S,edge:"end",sx:{color:t.palette.primary.main,"&:hover":{bgcolor:"rgba(126, 98, 51, 0.2)"}},children:s?e.jsx(O,{}):e.jsx(_,{})})})}),n.password&&e.jsx(o,{color:"error",fontSize:"14px",sx:{mt:.5},children:n.password.message})]})]}),e.jsx(H,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:m,sx:{mt:"2rem",textTransform:"none",boxShadow:"none",color:"white",py:".8rem",fontWeight:600,fontSize:"16px","&:hover":{boxShadow:`0 6px 12px ${t.palette.primary.main}40`,transform:"translateY(-2px)"}},children:m?"Signing in...":"Continue"})]})}),e.jsx(X,{})]})})}export{ne as default,Z as signinSchema};
