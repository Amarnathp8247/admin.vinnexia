import{at as b,j as s,T as u,c as f,cW as y,h as C,k as h,r as m,cX as S,aw as j,S as x,aB as z}from"./index-B_S0l-pH.js";const r=b(),D=[r.accessor("id",{header:"ID",size:40}),r.accessor("title",{header:"Title",size:40}),r.display({id:"image",header:"Image",Cell:({row:e})=>{var i;const t=(i=e==null?void 0:e.original)==null?void 0:i.image;return s.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:t,alt:"image",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})})},size:100}),r.accessor("isDeleted",{header:"Status",size:150,Cell:({row:e})=>{const t=e.original.isDeleted;return s.jsx(u,{sx:{fontWeight:"bold",color:t?"red":"green"},children:t?"Deleted":"Active"})}}),r.accessor("createdAt",{header:"Uploaded At",size:200,Cell:({row:e})=>s.jsx(u,{children:new Date(e.original.updatedAt).toLocaleString()})}),r.display({id:"action",header:"Action",size:80,Cell:({row:e})=>{var o;const t=String((o=e==null?void 0:e.original)==null?void 0:o.id),i=f(),[d,{isLoading:n}]=y(),g=async()=>{var c,l;try{const a=await d({bannerId:t}).unwrap();a!=null&&a.status&&i(h({open:!0,message:a==null?void 0:a.message,severity:"success"}))}catch(a){(c=a==null?void 0:a.data)!=null&&c.status||i(h({open:!0,message:((l=a==null?void 0:a.data)==null?void 0:l.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return!e.original.isDeleted&&s.jsx(C,{variant:"contained",size:"small",disabled:n,onClick:g,children:"Remove"})}})];function v(){var l;const[e,t]=m.useState({pageIndex:0,pageSize:10}),[i,d]=m.useState(""),{data:n,isLoading:g,isError:p}=S({page:e.pageIndex+1,sizePerPage:e.pageSize,search:i}),o=(n==null?void 0:n.data)||[],c=j({columns:D,data:p?[]:[o],enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((l=n==null?void 0:n.data)==null?void 0:l.totalRecords)||0,state:{pagination:e,globalFilter:i,isLoading:g},onPaginationChange:t,onGlobalFilterChange:d,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom"});return s.jsxs(x,{children:[s.jsx(u,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Banner List"}),s.jsx(x,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:s.jsx(z,{table:c})})]})}export{v as default};
