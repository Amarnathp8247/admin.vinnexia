import{aq as k,c as O,a as P,b as F,bw as I,j as e,S as x,T as r,G as o,I as i,aI as u,e as R,h as V,i as p}from"./index-oaA_Ltxz.js";import{e as W}from"./editDocumentSchema-Bn94QLsI.js";const f=[{label:"Approve",value:"1"},{label:"Reject",value:"0"}];function T({data:j,onClose:g}){const{refetch:b}=k(),S=j,d=O(),c={status:"",poi:"",poa:"",remark:""},{handleSubmit:v,reset:D,watch:n,setValue:l,register:y,formState:{errors:s}}=P({resolver:F(W),defaultValues:c}),[z,{isLoading:w}]=I(),E=async a=>{var m,h;try{const t=await z({...a,documentId:S}).unwrap();t!=null&&t.status&&(d(p({open:!0,message:t==null?void 0:t.message,severity:"success"})),D(c),g(),b())}catch(t){(m=t==null?void 0:t.data)!=null&&m.status||d(p({open:!0,message:((h=t==null?void 0:t.data)==null?void 0:h.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(x,{children:[e.jsx(r,{sx:{fontSize:"2rem",fontWeight:"700",mb:"2rem"},children:"Edit Documents"}),e.jsxs(x,{component:"form",onSubmit:v(E),children:[e.jsxs(o,{container:!0,size:12,spacing:2,children:[e.jsxs(o,{size:{xs:12},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Proof of Identity (POI) *"}),e.jsx(u,{value:n("poi"),items:f,onChange:a=>l("poi",a.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0,showDefaultOption:!0}),s.poi&&e.jsx(r,{color:"error",fontSize:"14px",children:s.poi.message})]}),e.jsxs(o,{size:{xs:12},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Proof of Address (POA) *"}),e.jsx(u,{value:n("poa"),items:f,onChange:a=>l("poa",a.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0,showDefaultOption:!0}),s.poa&&e.jsx(r,{color:"error",fontSize:"14px",children:s.poa.message})]}),e.jsxs(o,{size:{xs:12},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Status *"}),e.jsx(u,{value:n("status"),items:["APPROVED","REJECTED"],onChange:a=>l("status",a.target.value,{shouldValidate:!0}),shouldBeFullWidth:!0,showDefaultOption:!0}),s.poa&&e.jsx(r,{color:"error",fontSize:"14px",children:s.poa.message})]}),e.jsxs(o,{size:{xs:12},children:[e.jsx(i,{sx:{mb:".5rem"},children:"Remark *"}),e.jsx(R,{placeholder:"Add remark",multiline:!0,fullWidth:!0,...y("remark",{required:!0})}),s.remark&&e.jsx(r,{color:"error",fontSize:"14px",children:s.remark.message})]})]}),e.jsx(V,{variant:"contained",type:"submit",disabled:w,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{T as E};
