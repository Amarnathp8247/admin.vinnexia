import{o as E,s as l,aq as I,c as v,a as w,b as P,bE as F,j as s,T as m,S as T,I as C,aI as R,az as V,aA as k,h as z,i as d}from"./index-oaA_Ltxz.js";const B=E({status:l().min(1,"Please select status"),force:l()});function L({data:h,onClose:b}){const{refetch:f}=I(),x=h,o=v(),r={status:"",force:"false"},{watch:a,setValue:i,handleSubmit:S,reset:g,formState:{errors:n}}=w({resolver:P(B),defaultValues:r}),[p,{isLoading:j}]=F(),y=async e=>{var u,c;try{const t=await p({...e,ibId:x}).unwrap();t!=null&&t.status&&(o(d({open:!0,message:t==null?void 0:t.message,severity:"success"})),g(r),b(),f())}catch(t){(u=t==null?void 0:t.data)!=null&&u.status||o(d({open:!0,message:((c=t==null?void 0:t.data)==null?void 0:c.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(s.Fragment,{children:[s.jsx(m,{sx:{fontSize:"2rem",fontWeight:"700",mb:"1.2rem"},children:"Edit IB Request Status"}),s.jsxs(T,{component:"form",onSubmit:S(y),children:[s.jsx(C,{sx:{mb:".5rem"},children:"Status *"}),s.jsx(R,{value:a("status"),onChange:e=>i("status",e.target.value,{shouldValidate:!0}),items:["APPROVED","REJECTED"],shouldBeFullWidth:!0}),n.status&&s.jsx(m,{color:"error",fontSize:"14px",children:n.status.message}),a("status")=="APPROVED"&&s.jsx(V,{sx:{mt:"1.5rem"},control:s.jsx(k,{checked:a("force")==="true",onChange:e=>i("force",e.target.checked?"true":"false")}),label:"Force allow"}),s.jsx(z,{variant:"contained",type:"submit",disabled:j,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{L as E};
