import{r as x,aw as D,j as e,T as f,B as d,S as n,I as c,aG as g,az as w,aA as j,aB as z,at as S,h as k}from"./index-BuLT-AS9.js";import{f as s}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d as m}from"./dayjs.min-DLFBMbJN.js";import{F as v}from"./FileDownload-Z7rQgJvD.js";import{u as h,w as A}from"./xlsx-D1NZSDnX.js";import{A as T}from"./AdapterDayjs-C1FaYym2.js";const M=(t=10)=>Array.from({length:t},(i,o)=>({id:o+1,name:`${s.person.fullName()} / ${s.internet.email()}`,mt5Id:s.number.int({min:1e6,max:9999999}).toString(),amount:s.finance.amount({min:50,max:5e3,dec:2}),paymentMethod:s.helpers.arrayElement(["Bank Transfer","UPI","Crypto"]),note:s.lorem.words(5),comment:s.lorem.sentence(),depositProof:"https://user.flexymarkets.com/images/news/1738325279_1.jpg?image=1",status:s.helpers.arrayElement(["Approved","Pending","Rejected"]),date:s.date.recent().toLocaleDateString(),marketingName:s.person.firstName(),approvedBy:s.person.fullName()})),u=M(1),y=["All","Pending","Approved","Rejected"],b=["All","Cash","Bank"],a=S(),P=[a.accessor("id",{header:"ID",size:40}),a.accessor("name",{header:"Name/Email",size:180}),a.accessor("mt5Id",{header:"MT5 ID",size:100}),a.accessor("amount",{header:"Amount IN USD",size:120}),a.accessor("paymentMethod",{header:"Payment Method",size:130}),a.accessor("note",{header:"Note",size:150}),a.accessor("comment",{header:"Comment",size:180,Cell:({cell:t})=>e.jsx(f,{sx:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.getValue()})}),a.accessor("depositProof",{header:"Deposit Proof",size:100,Cell:({cell:t})=>e.jsx("img",{src:t.getValue(),alt:"Deposit Proof",style:{width:"60px",height:"40px",objectFit:"cover",borderRadius:4}})}),a.accessor("status",{header:"Status",size:100,Cell:({cell:t})=>e.jsx(f,{sx:{color:t.getValue()==="Approved"?"green":t.getValue()==="Rejected"?"red":"orange",fontWeight:500,fontSize:"14px"},children:t.getValue()})}),a.accessor("date",{header:"Date",size:120}),a.accessor("marketingName",{header:"Marketing Name",size:140}),a.accessor("approvedBy",{header:"Approved/Rejected By",size:250})],B=t=>{const i=t.map(p=>p.original),o=h.json_to_sheet(i),l=h.book_new();h.book_append_sheet(l,o,"Sheet1"),A(l,"data.xlsx")};function _(){const[t,i]=x.useState(null),[o,l]=x.useState(null);x.useMemo(()=>!t||!o?u:u.filter(r=>m(r.date).isAfter(m(t).subtract(1,"day"))&&m(r.date).isBefore(m(o).add(1,"day"))),[t,o]);const p=D({columns:P,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:r})=>e.jsx(d,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(k,{variant:"contained",onClick:()=>B(u),startIcon:e.jsx(v,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Deposit Report"}),e.jsxs(d,{sx:{mt:"2rem",display:"flex",flexDirection:{xs:"column",lg:"row"},gap:"1rem"},children:[e.jsxs(d,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:"1rem"},children:[e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"Status:"}),e.jsx(g,{items:y,selected:y[0],showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]}),e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"Payment Method:"}),e.jsx(g,{items:b,selected:b[0],showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]})]}),e.jsx(w,{dateAdapter:T,children:e.jsxs(d,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(j,{value:t,onChange:r=>i(r),slotProps:{textField:{size:"small"}}})]}),e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(j,{value:o,onChange:r=>l(r),slotProps:{textField:{size:"small"}}})]})]})})]}),e.jsx(n,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(z,{table:p})})]})}export{_ as default};
