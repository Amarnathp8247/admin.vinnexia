import{bz as o,c as b,a as j,cI as z,j as s,S,T as t,aF as C,G as n,I as d,e as l,h as v,b as y,k as w}from"./index-Bjlp2vES.js";import{C as q}from"./Card--HSV-vWh.js";const F=o.object({oldPassword:o.string().min(1,"Old password is required"),newPassword:o.string().min(8,"Password must be at least 8 characters").refine(r=>/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(r),{message:"Password must include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*)"}),cnfPassword:o.string().min(1,"Confirm password is required")}).refine(r=>r.newPassword===r.cnfPassword,{message:"Passwords do not match",path:["cnfPassword"]});function $(){const r=b(),m={oldPassword:"",newPassword:"",cnfPassword:""},{register:i,handleSubmit:x,reset:h,watch:A,setValue:E,formState:{errors:a}}=j({resolver:y(F),defaultValues:m}),[f,{isLoading:P}]=z(),p=async g=>{var c,u;try{const e=await f(g).unwrap();e!=null&&e.status&&(r(w({open:!0,message:e==null?void 0:e.message,severity:"success"})),h(m))}catch(e){(c=e==null?void 0:e.data)!=null&&c.status||r(w({open:!0,message:((u=e==null?void 0:e.data)==null?void 0:u.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(S,{children:[s.jsx(t,{sx:{fontSize:"2rem",fontWeight:"700",mb:"2rem"},children:"Change Password"}),s.jsxs(q,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"}},component:"form",onSubmit:x(p),children:[s.jsx(t,{mx:{xs:"1rem",md:"0"},children:"Fill Details"}),s.jsx(C,{sx:{my:"1.2rem"}}),s.jsxs(n,{container:!0,size:12,spacing:3,children:[s.jsxs(n,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsx(d,{sx:{mb:".5rem"},children:"Current Password *"}),s.jsx(l,{...i("oldPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Current Password",variant:"outlined"}),a.oldPassword&&s.jsx(t,{color:"error",fontSize:"14px",children:a.oldPassword.message})]}),s.jsxs(n,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsx(d,{sx:{mb:".5rem"},children:"New Password *"}),s.jsx(l,{...i("newPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter New Password",variant:"outlined"}),a.newPassword&&s.jsx(t,{color:"error",fontSize:"14px",children:a.newPassword.message})]}),s.jsxs(n,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsx(d,{sx:{mb:".5rem"},children:"Confirm Password *"}),s.jsx(l,{...i("cnfPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Confirm Password",variant:"outlined"}),a.cnfPassword&&s.jsx(t,{color:"error",fontSize:"14px",children:a.cnfPassword.message})]})]}),s.jsx(v,{type:"submit",variant:"contained",disabled:P,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{$ as default};
