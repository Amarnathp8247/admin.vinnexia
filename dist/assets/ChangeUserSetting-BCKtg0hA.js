import{o as I,aM as v,aC as B,s as i,c as k,a4 as L,X as T,aZ as U,aX as C,a as z,r as F,j as s,S as q,B as x,R as G,g as O,$ as R,a_ as V,T as h,aF as _,G as g,I as N,aG as X,h as P,b as Q,k as f}from"./index-DcG3qw6T.js";const r=t=>v(n=>n===""||n==null?void 0:n,t.optional()),Y=I({userId:B({required_error:"Client is required"}).nullable().refine(t=>t!==null,{message:"Client is required"}),isDeleted:r(i()),isDepositeAllowed:r(i()),isWithdrawlAllowed:r(i()),isTransferAllowed:r(i()),isIbWithdrawlAllowed:r(i()),isMt5DepositAllowed:r(i()),isMt5WithdrawlAllowed:r(i())}).transform(t=>Object.fromEntries(Object.entries(t).filter(([n,o])=>o!==void 0))),Z=[{name:"Yes",value:"true"},{name:"No",value:"false"}];function H(){var b;const t=k(),{selectedTheme:n}=L(l=>l.themeMode),{state:o}=T(),d=o==null?void 0:o.userId,{data:c,isLoading:A}=U({id:d},{skip:!d}),e=!A&&((b=c==null?void 0:c.data)==null?void 0:b.userData),[S,{isLoading:j}]=C(),p={userId:d,isDeleted:"false",isDepositeAllowed:"false",isWithdrawlAllowed:"false",isTransferAllowed:"false",isIbWithdrawlAllowed:"false",isMt5DepositAllowed:"false",isMt5WithdrawlAllowed:"false"},{handleSubmit:W,reset:w,watch:y,setValue:D,formState:{errors:u}}=z({resolver:Q(Y),defaultValues:p});F.useEffect(()=>{w(e?{userId:d,isDeleted:String(e==null?void 0:e.isDeleted),isDepositeAllowed:String(e==null?void 0:e.isDepositeAllowed),isWithdrawlAllowed:String(e==null?void 0:e.isWithdrawlAllowed),isTransferAllowed:String(e==null?void 0:e.isTransferAllowed),isIbWithdrawlAllowed:String(e==null?void 0:e.isIbWithdrawlAllowed),isMt5DepositAllowed:String(e==null?void 0:e.isMt5DepositAllowed),isMt5WithdrawlAllowed:String(e==null?void 0:e.isMt5WithdrawlAllowed)}:p)},[d,e,w]);const M=async l=>{var m;try{const a=await S(l).unwrap();a!=null&&a.status&&t(f({open:!0,message:a==null?void 0:a.message,severity:"success"}))}catch(a){t(f({open:!0,message:((m=a==null?void 0:a.data)==null?void 0:m.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(q,{children:[s.jsxs(x,{sx:{mb:"2rem",display:"flex",alignItems:"center",gap:"15px"},children:[s.jsx(G,{title:"Back",placement:"bottom-end",children:s.jsx(O,{component:R,to:"/admin/userManagement/userList",children:s.jsx(V,{})})}),s.jsx(h,{sx:{fontSize:"2rem",fontWeight:"700"},children:"Change User Setting"})]}),s.jsxs(x,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"},bgcolor:n==="dark"&&"#272727"},component:"form",onSubmit:W(M),children:[s.jsx(h,{mx:{xs:"1rem",md:"0"},children:"Fill Details"}),s.jsx(_,{sx:{my:"1.2rem"}}),s.jsx(g,{container:!0,size:12,spacing:2,children:[{name:"isDeleted",label:"Disable Account"},{name:"isDepositeAllowed",label:"Disable Deposit"},{name:"isWithdrawlAllowed",label:"Disable Withdraw"},{name:"isTransferAllowed",label:"Disable Transfer"},{name:"isIbWithdrawlAllowed",label:"Disable IB Withdraw"},{name:"isMt5DepositAllowed",label:"Disable MT5 To Wallet"},{name:"isMt5WithdrawlAllowed",label:"Disable Wallet To MT5"}].map(l=>s.jsxs(g,{item:!0,size:{xs:12,sm:6,md:4},children:[s.jsxs(N,{sx:{mb:".5rem"},children:[l.label," *"]}),s.jsx(X,{value:String(y(l.name)),onChange:m=>D(l.name,m.target.value,{shouldValidate:!0}),items:Z,width:"100%",showDefaultOption:!1}),u[l.name]&&s.jsx(h,{color:"error",fontSize:"14px",children:u[l.name].message})]},l.name))}),s.jsx(P,{variant:"contained",type:"submit",disabled:j,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{H as default};
