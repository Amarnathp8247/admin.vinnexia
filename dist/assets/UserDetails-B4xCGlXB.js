import{Q as v,j as e,c as R,a as ae,b as ce,o as le,aQ as de,T as r,S as y,B as u,I as me,e as he,h as I,s as pe,aC as xe,k as L,at as ge,$ as E,aR as je,aS as ue,aT as ye,aI as fe,aU as be,aP as ve,aV as ze,aW as J,a4 as Se,r as k,aw as we,n as N,aG as F,aF as D,aB as Ce,aH as Me,aX as ee,G as A,ak as b,ap as W,g as T,aY as ne,au as oe,X as $,d as Ae,aZ as Ve,R as Ie,a_ as Te}from"./index-DcG3qw6T.js";import{M as B}from"./ModalComponent-Csv_Esyn.js";import{M as ke}from"./MT5UserDetailsModalData-BQBlWQ0j.js";import{M as Q}from"./MultiPasswordModal-Cm13Kevm.js";import{V as Y}from"./Visibility-CHELPl1b.js";import{E as Be}from"./EditBankModalContent-Dz3Lr-80.js";import{E as Ee}from"./EditDocumentModalContent-qg0Phqme.js";import{C as se}from"./Card-BPwIXuQj.js";import{T as Le}from"./TabComponent-BP8I4MRa.js";import{C as ie}from"./CheckCircle-CI_rUt8l.js";import{P as G}from"./Person-CZEW0X4Z.js";import{E as q,P as Ne}from"./Phone-B_n7K6ID.js";import{S as Pe}from"./SupportAgent-Dcvx1kJB.js";import{A as _}from"./AccountBalanceWallet-ujC6Hm-B.js";import{A as We}from"./AttachMoney-BtbaBtpU.js";import{A as Ue}from"./Avatar-DMY7JyDQ.js";import"./editDocumentSchema-BLIxu2rN.js";const K=v(e.jsx("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 10V8h-2v4H8l4 4 4-4z"}),"ArrowCircleDown"),Z=v(e.jsx("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10m-1-10v4h2v-4h3l-4-4-4 4z"}),"ArrowCircleUp"),Re=v(e.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),X=v(e.jsx("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"Business"),He=v(e.jsx("path",{d:"M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9"}),"Cake"),Oe=v(e.jsx("path",{d:"M12.89 11.1c-1.78-.59-2.64-.96-2.64-1.9 0-1.02 1.11-1.39 1.81-1.39 1.31 0 1.79.99 1.9 1.34l1.58-.67c-.15-.45-.82-1.92-2.54-2.24V5h-2v1.26c-2.48.56-2.49 2.86-2.49 2.96 0 2.27 2.25 2.91 3.35 3.31 1.58.56 2.28 1.07 2.28 2.03 0 1.13-1.05 1.61-1.98 1.61-1.82 0-2.34-1.87-2.4-2.09l-1.66.67c.63 2.19 2.28 2.78 2.9 2.96V19h2v-1.24c.4-.09 2.9-.59 2.9-3.22 0-1.39-.61-2.61-3.01-3.44M3 21H1v-6h6v2H4.52c1.61 2.41 4.36 4 7.48 4 4.97 0 9-4.03 9-9h2c0 6.08-4.92 11-11 11-3.72 0-7.01-1.85-9-4.67zm-2-9C1 5.92 5.92 1 12 1c3.72 0 7.01 1.85 9 4.67V3h2v6h-6V7h2.48C17.87 4.59 15.12 3 12 3c-4.97 0-9 4.03-9 9z"}),"CurrencyExchange"),Fe=v(e.jsx("path",{d:"M14.4 6 14 4H5v17h2v-7h5.6l.4 2h7V6z"}),"Flag"),$e=v(e.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),Qe=v(e.jsx("path",{d:"M12.5 6.9c1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-.53.12-1.03.3-1.48.54l1.47 1.47c.41-.17.91-.27 1.51-.27M5.33 4.06 4.06 5.33 7.5 8.77c0 2.08 1.56 3.21 3.91 3.91l3.51 3.51c-.34.48-1.05.91-2.42.91-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c.96-.18 1.82-.55 2.45-1.12l2.22 2.22 1.27-1.27z"}),"MoneyOff"),Ye=v(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),Ge=v(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"Security"),qe=v(e.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),_e=v(e.jsx("path",{d:"M16.5 12c1.38 0 2.49-1.12 2.49-2.5S17.88 7 16.5 7 14 8.12 14 9.5s1.12 2.5 2.5 2.5M9 11c1.66 0 2.99-1.34 2.99-3S10.66 5 9 5 6 6.34 6 8s1.34 3 3 3m7.5 3c-1.83 0-5.5.92-5.5 2.75V19h11v-2.25c0-1.83-3.67-2.75-5.5-2.75M9 13c-2.33 0-7 1.17-7 3.5V19h7v-2.25c0-.85.33-2.34 2.37-3.47C10.5 13.1 9.66 13 9 13"}),"SupervisorAccount"),Ke=v(e.jsx("path",{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99zM21 9l-3.99-4v3H10v2h7.01v3z"}),"SwapHoriz"),Ze=v(e.jsx("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10zm-2.21 5.04c.13.57.21 1.17.21 1.78 0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8c1.58 0 3.04.46 4.28 1.25l1.44-1.44C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10c0-1.19-.22-2.33-.6-3.39z"}),"TaskAlt"),Xe=v(e.jsx("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm-2 16-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9z"}),"VerifiedUser"),Je=v(e.jsx("path",{d:"M5.5 22v-7.5H4V9c0-1.1.9-2 2-2h3c1.1 0 2 .9 2 2v5.5H9.5V22zM18 22v-6h3l-2.54-7.63C18.18 7.55 17.42 7 16.56 7h-.12c-.86 0-1.63.55-1.9 1.37L12 16h3v6zM7.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2m9 0c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2"}),"Wc"),De=le({userId:xe({required_error:"Client is required"}).nullable().refine(n=>n!==null,{message:"Client is required"}),newPassword:pe().min(8,"Password must be at least 8 characters").refine(n=>/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{8,}$/.test(n),{message:"Password must include at least one uppercase letter, one lowercase letter, one number, and one special character (!@#$%^&*)"})});function en({data:n,onClose:o}){const i=R(),t={userId:n,newPassword:""},{register:s,handleSubmit:l,reset:h,formState:{errors:m}}=ae({resolver:ce(De),defaultValues:t}),[f,{isLoading:S}]=de(),p=async w=>{var V,M;try{const x=await f(w).unwrap();x!=null&&x.status&&(i(L({open:!0,message:x==null?void 0:x.message,severity:"success"})),h(t),o())}catch(x){(V=x==null?void 0:x.data)!=null&&V.status||i(L({open:!0,message:((M=x==null?void 0:x.data)==null?void 0:M.message)||"Failed to sign in. Please try again later.",severity:"error"}))}};return e.jsxs(e.Fragment,{children:[e.jsx(r,{sx:{fontSize:"1.5rem",fontWeight:"700",mb:"1.2rem"},children:"Change User Password"}),e.jsxs(y,{component:"form",onSubmit:l(p),children:[e.jsxs(u,{children:[e.jsx(me,{sx:{mb:".5rem"},children:"Password *"}),e.jsx(he,{...s("newPassword",{required:!0}),size:"small",fullWidth:!0,placeholder:"Enter Password",variant:"outlined"}),m.newPassword&&e.jsx(r,{color:"error",fontSize:"14px",children:m.newPassword.message})]}),e.jsx(I,{type:"submit",variant:"contained",disabled:S,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}const a=ge(),te={"Transactions List":{columns:[a.accessor("id",{header:"ID",size:40,Cell:({row:n})=>{const o=n.original.id;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("transactionType",{header:"Transaction Type",size:120,Cell:({row:n})=>{const o=n.original.transactionType;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("referrenceNo",{header:"Referrence No.",size:120,Cell:({row:n})=>{const o=n.original.referrenceNo;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("amount",{header:"Amount",size:150,Cell:({row:n})=>{const o=n.original.amount;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("status",{header:"Status",size:150,Cell:({row:n})=>{const o=n.original.status;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("remark",{header:"Remark",size:150,Cell:({row:n})=>{const o=n.original.remark;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("createdAt",{header:"Registration Date",size:200,Cell:({row:n})=>{const o=new Date(n.original.createdAt).toLocaleString();return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}})]},"Deposit/Widthdrawal List":{columns:[a.accessor("id",{header:"ID"}),a.display({header:"Name",Cell:({row:n})=>{const o=n.original.user.name;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.display({header:"Email",Cell:({row:n})=>{const o=n.original.user.email;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("amount",{header:"Amount",Cell:({row:n})=>{const o=n.original.amount;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.display({id:"image",header:"Deposit Proof",Cell:({row:n})=>{var i;const o=(i=n==null?void 0:n.original)==null?void 0:i.image;return o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:o,alt:"Bankbook",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("transactionType",{header:"Transaction Type",Cell:({row:n})=>{const o=n.original.transactionType;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("paymentMethods",{header:"Payment Methods",Cell:({row:n})=>{const o=n.original.paymentMethods;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("walletAddress",{header:"Wallet Address",Cell:({row:n})=>{const o=n.original.walletAddress;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("transactionReference",{header:"Transaction Reference",Cell:({row:n})=>{const o=n.original.transactionReference;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("remark",{header:"Remark",Cell:({row:n})=>{const o=n.original.remark;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("status",{header:"Status",Cell:({row:n})=>{const o=n.original.status;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("approvedBy",{header:"Approved By",Cell:({row:n})=>{const o=n.original.approvedBy;return o?e.jsx(r,{children:o}):e.jsx(r,{fontSize:"12px",component:"em",children:"Empty"})}}),a.accessor("createdAt",{header:"Date",size:250,Cell:({row:n})=>e.jsx(r,{children:new Date(n.original.createdAt).toLocaleString()})})]},"Document List":{columns:[a.display({header:"Name",size:120,Cell:({row:n})=>{var i,t;const o=(t=(i=n==null?void 0:n.original)==null?void 0:i.user)==null?void 0:t.name;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.display({header:"Email",size:120,Cell:({row:n})=>{var i,t;const o=(t=(i=n==null?void 0:n.original)==null?void 0:i.user)==null?void 0:t.email;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.display({id:"poi",header:"POI",Cell:({row:n})=>{var i;const o=(i=n==null?void 0:n.original)==null?void 0:i.poi;return o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:o,alt:"POI",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):e.jsx(r,{variant:"body2",color:"textSecondary",children:"No POI"})},size:100}),a.display({id:"poa",header:"POA",Cell:({row:n})=>{var i;const o=(i=n==null?void 0:n.original)==null?void 0:i.poa;return o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:o,alt:"POA",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):e.jsx(r,{variant:"body2",color:"textSecondary",children:"No POA"})},size:100}),a.accessor("approvedBy",{header:"Approved By",size:150,Cell:({row:n})=>{const o=n.original.approvedBy;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("status",{header:"Status",size:100,Cell:({row:n})=>{const o=n.original.status;return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.accessor("createdAt",{header:"Uploaded At",size:200,Cell:({row:n})=>{const o=new Date(n.original.createdAt).toLocaleString();return e.jsx(r,{component:!o&&"em",sx:{fontSize:!o&&"12px"},children:o||"Empty"})}}),a.display({id:"action",header:"Action",size:80,Cell:({row:n})=>e.jsx(B,{modalWidth:{xs:"90%",sm:600},btnName:"Edit",Content:Ee,contentData:n.original.id})})]},"MT5 Account":{columns:[a.accessor("Login",{header:"Log In",size:100,Cell:({row:n})=>{const{userId:o,Login:i,Name:t,Email:s}=n==null?void 0:n.original;return e.jsxs(y,{sx:{flexDirection:"row",alignItems:"center",gap:"15px"},children:[e.jsx(B,{modalWidth:{xs:"90%",sm:600},btnName:i,type:"text",Content:ke,contentData:{Login:i},btnSx:{textDecoration:"underLine"}}),e.jsx(I,{component:E,to:"/admin/positionTable",state:{logIn:i,userId:o},variant:"contained",sx:{fontSize:"12px",px:"3px",py:"3px"},children:"Position"}),e.jsx(I,{component:E,to:"/admin/transaction/clientDeposit",state:{Login:i,userId:o,Name:t,Email:s},variant:"contained",sx:{fontSize:"12px",px:"3px",py:"3px"},children:"Deposit"}),e.jsx(I,{component:E,to:"/admin/transaction/clientWithdraw",state:{Login:i,userId:o,Name:t,Email:s},variant:"contained",sx:{fontSize:"12px",px:"3px",py:"3px"},children:"Withdraw"})]})}}),a.accessor("accountType",{header:"Account Type",size:100}),a.display({id:"groupName",accessorKey:"Group Name",header:"Group Name",size:80,Cell:({row:n})=>{var i,t;const o=(t=(i=n==null?void 0:n.original)==null?void 0:i.group)==null?void 0:t.name;return e.jsx(r,{children:o})}}),a.display({id:"userName",header:"User Name",size:120,Cell:({row:n})=>e.jsx(r,{children:n.original.user.name})}),a.display({id:"userEmail",header:"User Email",size:100,Cell:({row:n})=>e.jsx(r,{children:n.original.user.email})}),a.accessor("Leverage",{header:"Leverage",size:100}),a.accessor("Country",{header:"Country",size:100}),a.accessor("createdAt",{header:"Registration Date",size:200,Cell:({row:n})=>e.jsx(r,{children:new Date(n.original.createdAt).toLocaleString()})})]},"Password Details":{columns:[a.accessor("userLoginPassword",{header:"User Login Password",size:180,Cell:({row:n})=>{var t,s,l;const o=(t=n.original.passwordList)==null?void 0:t.filter(h=>h.passwordType==="LOGIN"),i=(s=n==null?void 0:n.original)==null?void 0:s.userId;return e.jsxs(y,{sx:{flexDirection:"row",gap:"10px",alignItems:"center"},children:[e.jsx(r,{children:(l=o[0])==null?void 0:l.password}),e.jsx(B,{modalWidth:{xs:"90%",sm:600},btnName:"Update",Content:en,contentData:i,btnSx:{fontSize:"12px",px:"3px",py:"3px"}})]})}}),a.accessor("mt5MainPassword",{header:"MT5 Main Password",size:180,Cell:({row:n})=>{var t,s;const o=(t=n.original.passwordList)==null?void 0:t.filter(l=>l.passwordType==="MT5-MAIN"),i=(s=n==null?void 0:n.original)==null?void 0:s.userId;return e.jsx(B,{Content:Q,contentData:{passwordAndLoginData:o,userId:i,type:"main"},btnName:Y,type:"icon"})}}),a.accessor("mt5InvestorPassword",{header:"MT5 Investor Password",size:180,Cell:({row:n})=>{var t,s;const o=(t=n.original.passwordList)==null?void 0:t.filter(l=>l.passwordType==="MT5-INVESTOR"),i=(s=n==null?void 0:n.original)==null?void 0:s.userId;return e.jsx(B,{Content:Q,contentData:{passwordAndLoginData:o,userId:i,type:"investor"},btnName:Y,type:"icon"})}})]},"Bank Details":{columns:[a.accessor("id",{header:"ID",size:40}),a.accessor("userId",{header:"User ID",size:40}),a.accessor("holderName",{header:"Account holder name",size:150}),a.accessor("accountNo",{header:"Account No.",size:120}),a.accessor("ibanNo",{header:"IBAN No.",size:120}),a.accessor("ifscCode",{header:"IFSC/Swift Code",size:130}),a.accessor("bankName",{header:"Bank Name",size:150}),a.accessor("bankAddress",{header:"Bank Address",size:100}),a.accessor("country",{header:"Country",size:100}),a.display({id:"imageUrl",header:"Book Bank",Cell:({row:n})=>{var i;const o=(i=n==null?void 0:n.original)==null?void 0:i.imageUrl;return o?e.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:o,alt:"Bankbook",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):e.jsx(r,{variant:"body2",color:"textSecondary",children:"No Book"})},size:100}),a.accessor("status",{header:"Status",size:100}),a.accessor("approvedBy",{header:"Action By",size:100,Cell:({row:n})=>e.jsx(r,{children:n.original.approvedBy?n.original.approvedBy:"none"})}),a.accessor("createdAt",{header:"Date",size:200,Cell:({row:n})=>e.jsx(r,{children:new Date(n.original.createdAt).toLocaleString()})}),a.display({id:"action",header:"Action",Cell:({row:n})=>e.jsxs(y,{direction:"row",spacing:1,children:[e.jsx(B,{modalWidth:{xs:"90%",sm:600},btnName:"Edit",Content:Be,contentData:n.original.id}),e.jsx(I,{sx:{textTransform:"none",color:"white",minWidth:"1.5rem",fontSize:"14px"},variant:"contained",children:"Delete"})]}),size:100})]},"Login Activity":{columns:[a.accessor("ipAddress",{header:"IP Address",size:40}),a.accessor("device",{header:"Device",size:40}),a.accessor("timestamp",{header:"Login At",size:40,Cell:({row:n})=>e.jsx(r,{children:new Date(n.original.timestamp).toLocaleString()})})]}},nn=(n,o,i,t,s)=>{const l={page:o.pageIndex+1,sizePerPage:o.pageSize,search:i,id:t,userId:t,status:s},h=je(l),m=ue(l),f=ye(l),S=fe(l),p=be(l),w=ve(l),V=ze(l);return{"Transactions List":h,"Deposit/Widthdrawal List":m,"Document List":f,"MT5 Account":S,"Password Details":p,"Bank Details":w,"Login Activity":V}[n]??{data:[],isLoading:!1,isError:!1,error:[]}},on=Object.keys(te);function sn(){var c;const n=R(),{id:o}=J(),{userDetailsSelectedOption:i}=Se(d=>d.user),[t,s]=k.useState({pageIndex:0,pageSize:10}),[l,h]=k.useState(""),{data:m=[],isLoading:f,isError:S,error:p}=nn(i,t,l,o);let w=(m==null?void 0:m.data)||[];const V=(c=p==null?void 0:p.data)==null?void 0:c.message,M=te[i],x=we({columns:M==null?void 0:M.columns,data:w,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:(m==null?void 0:m.totalRecords)||0,state:{pagination:t,globalFilter:l,isLoading:f,showAlertBanner:S},onPaginationChange:s,onGlobalFilterChange:h,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:S?{color:"error",children:V||"Error loading transactions."}:void 0}),g=d=>{n(Me(d))},j=N();return e.jsxs(se,{sx:{mt:3,borderRadius:"24px",boxShadow:j.shadows[3],overflow:"hidden"},children:[e.jsxs(u,{sx:{p:3,display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[e.jsx(r,{variant:"h6",fontWeight:700,children:"Detailed Lists"}),e.jsx(F,{items:on,width:"250px",showDefaultOption:!1,value:i,onChange:d=>g(d.target.value)})]}),e.jsx(D,{}),e.jsx(u,{children:e.jsx(Ce,{table:x})})]})}function tn({userDataDetails:n,loading:o}){const i=n==null?void 0:n.id,t=R(),s=N(),[l,h]=k.useState(null),[m,f]=k.useState({}),S=[{label:"Allowed",value:"false"},{label:"Not allowed",value:"true"}],p={"Disable User":[n!=null&&n.isDeleted?"Not allowed":"Allowed","isDeleted"],Deposit:[n!=null&&n.isDepositeAllowed?"Not allowed":"Allowed","isDepositeAllowed"],Withdrawal:[n!=null&&n.isWithdrawlAllowed?"Not allowed":"Allowed","isWithdrawlAllowed"],"IB Withdrawal":[n!=null&&n.isIbWithdrawlAllowed?"Not allowed":"Allowed","isIbWithdrawlAllowed"],"MT5 Deposit":[n!=null&&n.isMt5DepositAllowed?"Not allowed":"Allowed","isMt5DepositAllowed"],"MT5 Withdrawal":[n!=null&&n.isMt5WithdrawlAllowed?"Not allowed":"Allowed","isMt5WithdrawlAllowed"],Transfer:[n!=null&&n.isTransferAllowed?"Not allowed":"Allowed","isTransferAllowed"]},[w,{isLoading:V}]=ee(),M=(g,j)=>{f(c=>({...c,[g]:j}))},x=async g=>{var j;try{const c={userId:i,[g]:m[g]},d=await w(c).unwrap();d!=null&&d.status&&(t(L({open:!0,message:d==null?void 0:d.message,severity:"success"})),h(null))}catch(c){t(L({open:!0,message:((j=c==null?void 0:c.data)==null?void 0:j.message)||"Failed to update. Please try again later.",severity:"error"}))}};return e.jsx(A,{container:!0,spacing:3,children:Object.entries(p).map(([g,j],c)=>{const d=l===j[1],z=j[1],P=!(n!=null&&n[z]);return e.jsx(A,{size:{xs:12,md:6},children:e.jsx(u,{sx:{p:2,borderRadius:"16px",bgcolor:b(s.palette.background.default,.4),border:`1px solid ${b(s.palette.divider,.5)}`},children:e.jsxs(y,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(u,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",display:"block",mb:.5,children:g}),d?e.jsx(u,{mt:.5,children:e.jsx(F,{value:m[z]!==void 0?m[z]:String(n==null?void 0:n[z]),onChange:re=>M(z,re.target.value),items:S,width:"140px",showDefaultOption:!1})}):e.jsxs(y,{direction:"row",spacing:1,alignItems:"center",children:[P?e.jsx(Ze,{fontSize:"small",color:"success"}):e.jsx(Ye,{fontSize:"small",color:"error"}),e.jsx(r,{variant:"body2",fontWeight:600,color:P?"success.main":"error.main",children:o?e.jsx(W,{width:60}):P?"Allowed":"Not Allowed"})]})]}),e.jsx(u,{children:d?e.jsxs(y,{direction:"row",spacing:1,children:[e.jsx(T,{size:"small",disabled:V,onClick:()=>x(z),sx:{color:"success.main",bgcolor:b(s.palette.success.main,.1)},children:e.jsx(ie,{fontSize:"small"})}),e.jsx(T,{size:"small",onClick:()=>h(null),sx:{color:"error.main",bgcolor:b(s.palette.error.main,.1)},children:e.jsx(ne,{fontSize:"small"})})]}):e.jsx(T,{size:"small",onClick:()=>h(z),sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:b(s.palette.primary.main,.1)}},children:e.jsx(oe,{fontSize:"small"})})})]})})},g)})})}function rn({userDataDetails:n,loading:o}){const i=n==null?void 0:n.id,t=R(),s=N(),[l,h]=k.useState(null),[m,f]=k.useState({}),S=[{label:"Yes",value:"true"},{label:"No",value:"false"}],p={"Mobile Verified":[n!=null&&n.isMobileVerified?"Yes":"No","isMobileVerified"],"Email Verified":[n!=null&&n.isEmailVerified?"Yes":"No","isEmailVerified"],"Bank Verified":[n!=null&&n.isKycVerified?"Yes":"No","isKycVerified"],"KYC Verified":[n!=null&&n.isBankVerified?"Yes":"No","isBankVerified"]},[w,{isLoading:V}]=ee(),M=(g,j)=>{f(c=>({...c,[g]:j}))},x=async g=>{var j;try{const c={userId:i,[g]:m[g]},d=await w(c).unwrap();d!=null&&d.status&&(t(L({open:!0,message:d==null?void 0:d.message,severity:"success"})),h(null))}catch(c){t(L({open:!0,message:((j=c==null?void 0:c.data)==null?void 0:j.message)||"Failed to update. Please try again later.",severity:"error"}))}};return e.jsx(y,{spacing:0,divider:e.jsx(D,{sx:{my:1.5,borderStyle:"dashed"}}),children:Object.entries(p).map(([g,j],c)=>{const d=l===j[1],z=j[1];return e.jsx(u,{sx:{py:.5},children:e.jsxs(y,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(u,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",display:"block",children:g}),d?e.jsx(u,{mt:1,width:"100%",children:e.jsx(F,{value:m[z]!==void 0?m[z]:String(n==null?void 0:n[z]),onChange:P=>M(z,P.target.value),items:S,width:"150px",showDefaultOption:!1})}):e.jsx(r,{variant:"body2",fontWeight:600,sx:{color:n!=null&&n[z]?"success.main":"error.main",display:"flex",alignItems:"center",gap:.5},children:o?e.jsx(W,{width:50}):n!=null&&n[z]?"Verified":"Unverified"})]}),e.jsx(u,{children:d?e.jsxs(y,{direction:"row",spacing:1,children:[e.jsx(T,{size:"small",disabled:V,onClick:()=>x(z),sx:{color:"success.main",border:`1px solid ${b(s.palette.success.main,.2)}`},children:e.jsx(ie,{fontSize:"small"})}),e.jsx(T,{size:"small",onClick:()=>h(null),sx:{color:"error.main",border:`1px solid ${b(s.palette.error.main,.2)}`},children:e.jsx(ne,{fontSize:"small"})})]}):e.jsx(T,{size:"small",onClick:()=>h(z),sx:{color:"text.secondary","&:hover":{color:"primary.main",bgcolor:b(s.palette.primary.main,.1)}},children:e.jsx(oe,{fontSize:"small"})})})]})},g)})})}const U=({title:n,icon:o,children:i,loading:t})=>{const s=N();return e.jsxs(se,{sx:{p:3,height:"100%",borderRadius:"24px",boxShadow:s.shadows[3],transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:s.shadows[8]}},children:[e.jsxs(y,{direction:"row",spacing:1.5,alignItems:"center",mb:2.5,children:[e.jsx(Ue,{sx:{bgcolor:b(s.palette.primary.main,.1),color:s.palette.primary.main,width:40,height:40},children:o}),e.jsx(r,{variant:"h6",fontWeight:700,children:n})]}),e.jsx(y,{spacing:2,children:t?e.jsxs(e.Fragment,{children:[e.jsx(W,{height:24,width:"80%"}),e.jsx(W,{height:24,width:"60%"}),e.jsx(W,{height:24,width:"70%"})]}):i})]})},C=({icon:n,label:o,value:i})=>e.jsxs(y,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(u,{sx:{color:"text.secondary",display:"flex"},children:n}),e.jsxs(u,{children:[e.jsx(r,{variant:"caption",color:"text.secondary",display:"block",children:o}),e.jsx(r,{variant:"body2",fontWeight:600,color:"text.primary",children:i||"N/A"})]})]});function an({userData:n,isLoading:o}){var l,h,m,f,S;const i=N(),t=(l=n==null?void 0:n.data)==null?void 0:l.assetData,s=(h=n==null?void 0:n.data)==null?void 0:h.userData;return e.jsxs(A,{container:!0,spacing:3,children:[e.jsx(A,{size:{xs:12,lg:6},children:e.jsx(U,{title:"Personal Details",icon:e.jsx(G,{}),loading:o,children:e.jsxs(A,{container:!0,spacing:2,children:[e.jsx(A,{size:{xs:12,sm:6},children:e.jsxs(y,{spacing:2,children:[e.jsx(C,{icon:e.jsx(G,{fontSize:"small"}),label:"Name",value:s==null?void 0:s.name}),e.jsx(C,{icon:e.jsx(Re,{fontSize:"small"}),label:"Username",value:s==null?void 0:s.userName}),e.jsx(C,{icon:e.jsx(q,{fontSize:"small"}),label:"Email",value:s==null?void 0:s.email}),e.jsx(C,{icon:e.jsx(Ne,{fontSize:"small"}),label:"Mobile",value:s==null?void 0:s.mobile}),e.jsx(C,{icon:e.jsx(Fe,{fontSize:"small"}),label:"Country Code",value:s==null?void 0:s.countryCode}),e.jsx(C,{icon:e.jsx(Je,{fontSize:"small"}),label:"Gender",value:(s==null?void 0:s.gender)==="F"?"Female":(s==null?void 0:s.gender)==="M"?"Male":"Other"}),e.jsx(C,{icon:e.jsx(He,{fontSize:"small"}),label:"DOB",value:s!=null&&s.dob?new Date(s==null?void 0:s.dob).toLocaleDateString():"N/A"})]})}),e.jsx(A,{size:{xs:12,sm:6},children:e.jsxs(y,{spacing:2,children:[e.jsx(C,{icon:e.jsx($e,{fontSize:"small"}),label:"Address",value:s==null?void 0:s.address}),e.jsx(C,{icon:e.jsx(X,{fontSize:"small"}),label:"IB Status",value:s!=null&&s.isIb?"Yes":"No"}),e.jsx(C,{icon:e.jsx(X,{fontSize:"small"}),label:"Sub IB",value:s!=null&&s.isSubIb?"Yes":"No"}),e.jsx(C,{icon:e.jsx(Ge,{fontSize:"small"}),label:"Security Method",value:s==null?void 0:s.securityMethods}),e.jsx(C,{icon:e.jsx(_e,{fontSize:"small"}),label:"Parent Name",value:(m=s==null?void 0:s.parent)==null?void 0:m.name}),e.jsx(C,{icon:e.jsx(q,{fontSize:"small"}),label:"Parent Email",value:(f=s==null?void 0:s.parent)==null?void 0:f.email}),e.jsx(C,{icon:e.jsx(Pe,{fontSize:"small"}),label:"Sale Name",value:(S=s==null?void 0:s.sales)==null?void 0:S.name})]})})]})})}),e.jsx(A,{size:{xs:12,lg:6},children:e.jsx(U,{title:"Financial Overview",icon:e.jsx(_,{}),loading:o,children:e.jsxs(y,{spacing:3,children:[e.jsxs(u,{sx:{p:3,borderRadius:"20px",background:`linear-gradient(135deg, ${b(i.palette.primary.main,.1)} 0%, ${b(i.palette.background.paper,.5)} 100%)`,border:`1px solid ${b(i.palette.primary.main,.2)}`},children:[e.jsxs(y,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[e.jsxs(u,{children:[e.jsx(r,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Wallet Balance"}),e.jsxs(r,{variant:"h4",fontWeight:800,color:"primary.main",children:["$ ",Number((t==null?void 0:t.mainBalance)||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsx(_,{sx:{fontSize:40,opacity:.2,color:"primary.main"}})]}),e.jsxs(y,{direction:"row",spacing:1.5,mt:3,children:[e.jsx(I,{variant:"contained",startIcon:e.jsx(K,{}),component:E,to:"/admin/transaction/walletDeposit",state:{email:s==null?void 0:s.email,userId:s==null?void 0:s.id,userName:s==null?void 0:s.name},sx:{borderRadius:"12px",textTransform:"none",flex:1,boxShadow:"none"},children:"Deposit"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(Z,{}),component:E,to:"/admin/transaction/walletWithdraw",state:{email:s==null?void 0:s.email,userId:s==null?void 0:s.id,userName:s==null?void 0:s.name},sx:{borderRadius:"12px",textTransform:"none",flex:1,borderWidth:2,"&:hover":{borderWidth:2}},children:"Withdraw"})]})]}),e.jsx(A,{container:!0,spacing:2,children:[{label:"Total Deposit",value:t==null?void 0:t.totalDeposit,icon:e.jsx(K,{}),color:"success"},{label:"Total Withdrawal",value:t==null?void 0:t.totalWithdrawal,icon:e.jsx(Z,{}),color:"error"},{label:"Total IB Income",value:t==null?void 0:t.totalIBIncome,icon:e.jsx(We,{}),color:"warning"},{label:"IB Withdrawal",value:t==null?void 0:t.totalIBWithdrawl,icon:e.jsx(Qe,{}),color:"info"},{label:"Internal Transfer",value:t==null?void 0:t.totalInternalTransfer,icon:e.jsx(Ke,{}),color:"secondary"},{label:"Meta Deposit",value:t==null?void 0:t.totalMetaDeposit,icon:e.jsx(Oe,{}),color:"primary"}].map((p,w)=>e.jsx(A,{size:{xs:6,sm:4},children:e.jsx(u,{sx:{p:2,height:"100%",borderRadius:"16px",bgcolor:b(i.palette[p.color].main,.05),border:`1px solid ${b(i.palette[p.color].main,.1)}`,transition:"all 0.2s","&:hover":{bgcolor:b(i.palette[p.color].main,.1),transform:"translateY(-2px)"}},children:e.jsxs(y,{spacing:1,children:[e.jsxs(u,{sx:{color:`${p.color}.main`,display:"flex",alignItems:"center",gap:.5},children:[p.icon,e.jsx(r,{variant:"caption",fontWeight:600,color:"text.secondary",children:p.label})]}),e.jsxs(r,{variant:"subtitle1",fontWeight:700,children:["$ ",Number(p.value||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})},w))})]})})}),e.jsx(A,{size:{xs:12,lg:6},children:e.jsx(U,{title:"Verification Status",icon:e.jsx(Xe,{}),loading:o,children:e.jsx(rn,{userDataDetails:s,loading:o})})}),e.jsx(A,{size:{xs:12,lg:6},children:e.jsx(U,{title:"Account Permissions",icon:e.jsx(qe,{}),loading:o,children:e.jsx(tn,{userDataDetails:s,loading:o})})})]})}const O={SUMMARY:"Summary",LIST:"List"},H={[O.SUMMARY]:"summary",[O.LIST]:"list"};function Cn(){var g,j;const{state:n}=$(),{id:o}=J(),i=N(),t=Ae(),s=$(),h=Object.keys(H).find(c=>s.pathname.includes(H[c]))||O.SUMMARY;function m(c){c&&t(`/admin/userManagement/userDetails/${H[c]}/${o}`)}const{data:f,isLoading:S}=Ve({id:o},{skip:!o}),p=(j=(g=f==null?void 0:f.data)==null?void 0:g.userData)==null?void 0:j.name,w=n==null?void 0:n.pathname,[V,M]=k.useState("Summary");function x(c){return c=="Summary"?e.jsx(an,{userData:f,isLoading:S}):e.jsx(sn,{})}return e.jsxs(u,{sx:{pb:4},children:[e.jsxs(u,{sx:{mb:4,display:"flex",alignItems:"center",gap:2},children:[e.jsx(Ie,{title:"Back",children:e.jsx(T,{component:E,to:w||"/admin/userManagement/userList",sx:{bgcolor:b(i.palette.primary.main,.1),color:i.palette.primary.main,"&:hover":{bgcolor:b(i.palette.primary.main,.2)}},children:e.jsx(Te,{})})}),e.jsxs(u,{children:[e.jsx(r,{variant:"h4",fontWeight:800,sx:{background:`linear-gradient(45deg, ${i.palette.primary.main}, ${i.palette.secondary.main})`,backgroundClip:"text",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:p||"User Details"}),e.jsx(r,{variant:"body2",color:"text.secondary",fontWeight:500,children:"Manage user profile and activities"})]})]}),e.jsx(Le,{boxSx:{mb:3},items:["Summary","List"],onChange:(c,d)=>m(d),active:h}),x(h)]})}export{Cn as default};
