import{j as t,at as d,X as p,r as x,Y as h,h as f,$ as j,a0 as b,aX as g,c as C,cY as L,S}from"./index-oaA_Ltxz.js";import{C as y}from"./Card-CaAkebAw.js";import{L as T,E as k}from"./ExpandLess-DwdR0fuS.js";function m({node:s,onClick:a}){var l;const[n,e]=x.useState(!1),o=()=>{a(s.title)},c=r=>{r.stopPropagation(),s.hasChildren&&e(i=>!i)};return t.jsxs(t.Fragment,{children:[t.jsxs(h,{button:!0,onClick:o,sx:{pl:2},children:[t.jsx(T,{primary:s.title,sx:{"& .MuiListItemText-primary":{fontSize:"15px"},cursor:"pointer"}}),s.hasChildren&&t.jsx(f,{onClick:c,size:"small",variant:"contained",type:"submit",sx:{textTransform:"capitalize",minWidth:"1.5rem",p:"4px",boxShadow:"none",fontSize:"1rem",color:"white",ml:"1rem","&:hover":{boxShadow:"none"}},children:n?t.jsx(k,{}):t.jsx(j,{})})]}),s.hasChildren&&t.jsx(b,{in:n,timeout:"auto",unmountOnExit:!0,children:t.jsx(p,{component:"div",disablePadding:!0,children:(l=s.children)==null?void 0:l.filter(Boolean).map((r,i)=>t.jsx(m,{node:r,onClick:a},i))})})]})}function E({listData:s=[],onClick:a,loadingListData:n}){return t.jsx(y,{sx:{p:"1rem",display:"flex",flexDirection:"column",gap:".5rem",borderRadius:"2rem",boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)"},children:n?t.jsx(d,{}):t.jsx(p,{children:s.map((e,o)=>t.jsx(m,{node:e,onClick:a},o))})})}function u(s){const a=[];for(const n in s){const e=s[n],o={title:n,hasChildren:e&&typeof e=="object",children:e&&typeof e=="object"?u(e):[]};a.push(o)}return a}function D(){const{id:s}=g(),[a,n]=x.useState(!1);C();const{data:e,isLoading:o}=L({ibId:s}),c=e!=null&&e.data?u(e==null?void 0:e.data):[];function l(r){const i=r==null?void 0:r.match(/-(\w+)-/);i&&i[1],n(!0)}return t.jsx(S,{mt:"2rem",children:t.jsx(E,{listData:c,loadingListData:o,onClick:l})})}export{D as default};
