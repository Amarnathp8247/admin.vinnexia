import{o as M,s as p,bS as h,c as T,a2 as A,a as w,dq as C,j as e,S as L,T as t,B as O,aH as R,G as r,I as j,e as b,bn as g,cL as f,az as o,cy as n,h as q,b as B,i as V}from"./index-oaA_Ltxz.js";import{R as S}from"./RadioGroup-BwXfF62g.js";const G=M({isMaintenance:h(),isForceUpdate:h(),iosVersion:p().min(1,"iOS version is required"),androidVersion:p().min(1,"Android version is required")});function k(){const d=T(),{selectedTheme:v}=A(a=>a.themeMode),{register:l,handleSubmit:y,watch:c,setValue:u,formState:{errors:i}}=w({resolver:B(G),defaultValues:{isMaintenance:!1,isForceUpdate:!1,iosVersion:"",androidVersion:""}}),[F,{isLoading:z}]=C(),U=async a=>{var m,x;try{const s=await F(a).unwrap();s!=null&&s.status&&(d(V({open:!0,message:s==null?void 0:s.message,severity:"success"})),reset(defaultValues))}catch(s){(m=s==null?void 0:s.data)!=null&&m.status||d(V({open:!0,message:((x=s==null?void 0:s.data)==null?void 0:x.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(L,{children:[e.jsx(t,{sx:{fontSize:"2rem",fontWeight:700,mb:"1rem"},children:"App Version Update"}),e.jsxs(O,{component:"form",onSubmit:y(U),sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:"2rem",bgcolor:v==="dark"&&"#272727"},children:[e.jsx(t,{children:"App Configuration"}),e.jsx(R,{sx:{my:"1.2rem"}}),e.jsxs(r,{container:!0,spacing:2,children:[e.jsxs(r,{item:!0,size:{xs:12,md:6},children:[e.jsx(j,{sx:{mb:".5rem"},children:"iOS Version *"}),e.jsx(b,{...l("iosVersion"),size:"small",fullWidth:!0,placeholder:"e.g. 1.0.3"}),i.iosVersion&&e.jsx(t,{color:"error",fontSize:14,children:i.iosVersion.message})]}),e.jsxs(r,{item:!0,size:{xs:12,md:6},children:[e.jsx(j,{sx:{mb:".5rem"},children:"Android Version *"}),e.jsx(b,{...l("androidVersion"),size:"small",fullWidth:!0,placeholder:"e.g. 1.0.7"}),i.androidVersion&&e.jsx(t,{color:"error",fontSize:14,children:i.androidVersion.message})]}),e.jsx(r,{item:!0,size:{xs:12,md:6},children:e.jsxs(g,{children:[e.jsx(f,{children:"Maintenance Mode"}),e.jsxs(S,{row:!0,value:c("isMaintenance"),onChange:a=>u("isMaintenance",a.target.value==="true"),children:[e.jsx(o,{value:"true",control:e.jsx(n,{}),label:"ON"}),e.jsx(o,{value:"false",control:e.jsx(n,{}),label:"OFF"})]})]})}),e.jsx(r,{item:!0,size:{xs:12,md:6},children:e.jsxs(g,{children:[e.jsx(f,{children:"Force Update"}),e.jsxs(S,{row:!0,value:c("isForceUpdate"),onChange:a=>u("isForceUpdate",a.target.value==="true"),children:[e.jsx(o,{value:"true",control:e.jsx(n,{}),label:"YES"}),e.jsx(o,{value:"false",control:e.jsx(n,{}),label:"NO"})]})]})})]}),e.jsx(q,{type:"submit",variant:"contained",sx:{mt:"1.5rem",textTransform:"capitalize"},disabled:z,children:"Save Changes"})]})]})}export{k as default};
