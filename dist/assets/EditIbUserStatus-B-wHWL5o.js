import{o as E,s as l,ao as I,c as v,a as w,b as P,bE as F,j as s,T as m,S as T,I as k,aG as C,ax as R,ay as V,h as B,k as d}from"./index-BuLT-AS9.js";const D=E({status:l().min(1,"Please select status"),force:l()});function z({data:h,onClose:b}){const{refetch:x}=I(),f=h,o=v(),r={status:"",force:"false"},{watch:a,setValue:i,handleSubmit:S,reset:g,formState:{errors:n}}=w({resolver:P(D),defaultValues:r}),[p,{isLoading:y}]=F(),j=async e=>{var u,c;try{const t=await p({...e,ibId:f}).unwrap();t!=null&&t.status&&(o(d({open:!0,message:t==null?void 0:t.message,severity:"success"})),g(r),b(),x())}catch(t){(u=t==null?void 0:t.data)!=null&&u.status||o(d({open:!0,message:((c=t==null?void 0:t.data)==null?void 0:c.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return s.jsxs(s.Fragment,{children:[s.jsx(m,{sx:{fontSize:"2rem",fontWeight:"700",mb:"1.2rem"},children:"Edit IB Request Status"}),s.jsxs(T,{component:"form",onSubmit:S(j),children:[s.jsx(k,{sx:{mb:".5rem"},children:"Status *"}),s.jsx(C,{value:a("status"),onChange:e=>i("status",e.target.value,{shouldValidate:!0}),items:["APPROVED","REJECTED"],shouldBeFullWidth:!0}),n.status&&s.jsx(m,{color:"error",fontSize:"14px",children:n.status.message}),a("status")=="APPROVED"&&s.jsx(R,{sx:{mt:"1.5rem"},control:s.jsx(V,{checked:a("force")==="true",onChange:e=>i("force",e.target.checked?"true":"false")}),label:"Force allow"}),s.jsx(B,{variant:"contained",type:"submit",disabled:y,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{z as E};
