import{aq as T,c as B,a as v,b as w,o as P,b0 as z,j as t,S as r,T as o,I as c,aI as D,e as F,h as I,aN as R,s as d,i as h}from"./index-oaA_Ltxz.js";const V=i=>R(s=>s===""||s===null?void 0:s,i.optional()),W=P({status:d().min(1,"Please select your status"),remark:V(d().min(1,"Please type your remark"))});function q({data:i,onClose:s}){const{refetch:x}=T(),p=i,u=B(),f={status:"",remark:""},{handleSubmit:b,watch:y,register:S,setValue:g,formState:{errors:a}}=v({resolver:w(W),defaultValues:f}),[j,{isLoading:k}]=z(),E=async n=>{var l,m;try{const e=await j({...n,bankId:p}).unwrap();e!=null&&e.status&&(u(h({open:!0,message:e==null?void 0:e.message,severity:"success"})),s(),x())}catch(e){(l=e==null?void 0:e.data)!=null&&l.status||u(h({open:!0,message:((m=e==null?void 0:e.data)==null?void 0:m.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return t.jsxs(r,{children:[t.jsx(o,{sx:{fontSize:"2rem",fontWeight:"700",mb:"1.2rem"},children:"Edit User Bank Details"}),t.jsxs(r,{component:"form",onSubmit:b(E),children:[t.jsxs(r,{children:[t.jsx(c,{sx:{mb:".5rem"},children:"Status *"}),t.jsx(D,{items:["APPROVED","REJECTED"],value:y("status"),shouldBeFullWidth:!0,onChange:n=>g("status",n.target.value,{shouldValidate:!0})}),a.status&&t.jsx(o,{color:"error",fontSize:"14px",children:a.status.message})]}),t.jsxs(r,{mt:"1.2rem",children:[t.jsx(c,{sx:{mb:".5rem"},children:"Remark *"}),t.jsx(F,{placeholder:"Add remark",multiline:!0,fullWidth:!0,...S("remark",{required:!0})}),a.remark&&t.jsx(o,{color:"error",fontSize:"14px",children:a.remark.message})]}),t.jsx(I,{type:"submit",variant:"contained",disabled:k,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})}export{q as E};
