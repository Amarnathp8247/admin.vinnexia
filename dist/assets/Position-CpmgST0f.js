import{av as g,j as s,T as n,r as l,U as m,cZ as x,ay as b,S as c,aD as f,B as C,h as T,Z as j,aI as y}from"./index-oaA_Ltxz.js";import S from"./PositionTable-bWJXMtKC.js";import"./FileDownload-Cn3EXkSJ.js";import"./xlsx-D1NZSDnX.js";import"./editDocumentSchema-Bn94QLsI.js";const i=g(),v=[i.accessor("Order",{header:"Order",size:40}),i.accessor("Login",{header:"Log in",size:40}),i.accessor("Symbol",{header:"Symbol",size:100}),i.accessor("Price",{header:"Price",size:100}),i.accessor("Volume",{header:"Volume",size:100,Cell:({row:e})=>{var o;const t=(o=e==null?void 0:e.original)==null?void 0:o.Volume;return s.jsx(n,{children:t/1e4})}}),i.accessor("Profit",{header:"Profit",size:100}),i.accessor("Action",{header:"Action",size:100,Cell:({row:e})=>{var o;const t=(o=e==null?void 0:e.original)==null?void 0:o.Action;return s.jsx(n,{sx:{color:t==1?"green":"red"},children:t==1?"Buy":"Sell"})}}),i.accessor("PriceSL",{header:"SL price",size:100}),i.accessor("PriceTP",{header:"TP price",size:100}),i.accessor("Time",{header:"Closed AT",size:200,Cell:({row:e})=>{const t=e.original.Time,r=new Date(t*1e3).toLocaleString("en-CA",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).replace(",","");return s.jsx(n,{children:r})}})];function z(){const[e,t]=l.useState(""),{state:o}=m(),r=o==null?void 0:o.logIn,{data:a,isLoading:u}=x({login:r},{skip:!r}),p=l.useMemo(()=>[...(a==null?void 0:a.data)??[]].reverse(),[a==null?void 0:a.data]),h=b({columns:v||[],data:p,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualFiltering:!0,state:{globalFilter:e,isLoading:u},initialState:{showGlobalFilter:!0},onGlobalFilterChange:t,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:()=>s.jsx(n,{p:".5rem",fontSize:"1.2rem",color:"primary.main",children:"Last 30 days"})});return s.jsx(c,{mt:"2rem",children:s.jsx(c,{sx:{marginTop:"1.2rem",borderRadius:"10px",overflow:"hidden"},children:s.jsx(f,{table:h})})})}const d=["Open positions","Closed positions"];function F(){const{state:e}=m(),[t,o]=l.useState(d[0]),r={"Open positions":s.jsx(S,{}),"Closed positions":s.jsx(z,{})};return s.jsxs(c,{children:[s.jsxs(C,{sx:{mb:"2rem",display:"flex",justifyContent:"space-between"},children:[s.jsx(n,{variant:"h5",fontWeight:700,fontSize:"1.8rem",children:"Position Table"}),s.jsx(T,{variant:"contained",component:j,to:`/admin/userManagement/userDetails/list/${e==null?void 0:e.userId}`,state:{userId:e==null?void 0:e.userId},children:"Back"})]}),s.jsx(y,{width:{xs:"100%",sm:"250px"},items:d,value:t,showDefaultOption:!1,onChange:a=>o(a.target.value)}),r[t]]})}export{F as default};
