import{at as b,j as i,T as g,c as x,d7 as y,h as C,k as m,r as h,d8 as S,aw as z,S as f,aB as D}from"./index-Bjlp2vES.js";const r=b(),j=[r.accessor("id",{header:"ID",size:40}),r.accessor("message",{header:"Message",size:40}),r.accessor("isDeleted",{header:"Status",size:150,Cell:({row:t})=>{const s=t.original.isDeleted;return i.jsx(g,{sx:{fontWeight:"bold",color:s?"red":"green"},children:s?"Deleted":"Active"})}}),r.accessor("createdAt",{header:"Uploaded At",size:200,Cell:({row:t})=>i.jsx(g,{children:new Date(t.original.updatedAt).toLocaleString()})}),r.display({id:"action",header:"Action",size:80,Cell:({row:t})=>{var l;const s=String((l=t==null?void 0:t.original)==null?void 0:l.id),n=x(),[d,{isLoading:a}]=y(),u=async()=>{var c,o;try{const e=await d({notificationId:s}).unwrap();e!=null&&e.status&&n(m({open:!0,message:e==null?void 0:e.message,severity:"success"}))}catch(e){(c=e==null?void 0:e.data)!=null&&c.status||n(m({open:!0,message:((o=e==null?void 0:e.data)==null?void 0:o.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return!t.original.isDeleted&&i.jsx(C,{variant:"contained",size:"small",disabled:a,onClick:u,children:"Remove"})}})];function A(){var o;const[t,s]=h.useState({pageIndex:0,pageSize:10}),[n,d]=h.useState(""),{data:a,isLoading:u,isError:p}=S({page:t.pageIndex+1,sizePerPage:t.pageSize,search:n}),l=(a==null?void 0:a.data)||[],c=z({columns:j,data:p?[]:[l],enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((o=a==null?void 0:a.data)==null?void 0:o.totalRecords)||0,state:{pagination:t,globalFilter:n,isLoading:u},onPaginationChange:s,onGlobalFilterChange:d,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom"});return i.jsxs(f,{children:[i.jsx(g,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Notification List"}),i.jsx(f,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:i.jsx(D,{table:c})})]})}export{A as default};
