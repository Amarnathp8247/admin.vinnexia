import{o as b,aK as y,s as S,c as z,a as T,cV as w,j as e,S as n,T as i,aF as v,G as m,I as d,e as F,h as B,b as P,k as c}from"./index-Bjlp2vES.js";import{F as A}from"./FileUploadTextArea-CLsIJbF4.js";import{C}from"./Card--HSV-vWh.js";const G=b({title:S().trim().min(1,"Please type your transfer amount"),image:y(File,{message:"Please upload a valid image file"}).refine(s=>s&&["image/jpeg","image/jpg","image/png"].includes(s.type),{message:"Only JPEG or PNG images are allowed"}).refine(s=>s&&s.size<=5*1024*1024,{message:"Image size must not exceed 5MB"})});function k(){const s=z(),o={title:"",image:null},{register:g,handleSubmit:x,reset:p,setValue:u,formState:{errors:t}}=T({resolver:P(G),defaultValues:o}),[h,{isLoading:j}]=w(),f=async r=>{var l;try{const a=await h(r).unwrap();a!=null&&a.status&&(p(o),s(c({open:!0,message:a==null?void 0:a.message,severity:"success"})))}catch(a){a!=null&&a.data&&s(c({open:!0,message:((l=a==null?void 0:a.data)==null?void 0:l.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return e.jsxs(n,{children:[e.jsx(i,{sx:{fontSize:"2rem",fontWeight:"700",mb:"2rem"},children:"Add Banner"}),e.jsxs(C,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"}},children:[e.jsx(i,{variant:"h6",m:{xs:"1rem",sm:"0"},children:"Fill details"}),e.jsx(v,{sx:{my:"1.2rem"}}),e.jsxs(n,{gap:"2rem",component:"form",onSubmit:x(f),children:[e.jsxs(m,{container:!0,size:12,spacing:2,children:[e.jsxs(m,{item:!0,size:{xs:12,sm:6},children:[e.jsx(d,{sx:{mb:".5rem"},children:"Title *"}),e.jsx(F,{...g("title",{require:!0}),size:"small",fullWidth:!0,placeholder:"Type banner title",variant:"outlined"}),t.title&&e.jsx(i,{color:"error",fontSize:"14px",children:t.title.message})]}),e.jsxs(m,{item:!0,size:{xs:12,sm:6},children:[e.jsx(n,{sx:{flexDirection:"row",justifyContent:"space-between"},children:e.jsx(d,{sx:{mb:".5rem"},children:"Image *"})}),e.jsx(A,{onChange:r=>u("image",r,{shouldValidate:!0}),extentionType:["image/jpeg","image/jpg","image/png"],acceptType:"image/jpeg,image/png,image/jpg"}),t.image&&e.jsx(i,{color:"error",fontSize:"14px",children:t.image.message})]})]}),e.jsx(B,{variant:"contained",size:"small",type:"submit",disabled:j,sx:{textTransform:"capitalize",width:"5rem",boxShadow:"none",fontSize:"1rem",color:"white","&:hover":{boxShadow:"none"}},children:"Submit"})]})]})]})}export{k as default};
