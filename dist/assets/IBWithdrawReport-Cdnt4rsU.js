import{r as x,Y as b,aw as D,j as e,T as f,B as d,S as n,I as c,aG as j,az as z,aA as w,aB as S,at as T,h as k}from"./index-B_S0l-pH.js";import{f as t}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d as m}from"./dayjs.min-CuTKjy4W.js";import{F as v}from"./FileDownload-BsKDBh15.js";import{u as h,w as A}from"./xlsx-D1NZSDnX.js";import{A as B}from"./AdapterDayjs-BVSUtSHg.js";const M=(a=10)=>Array.from({length:a},(i,o)=>({id:o+1,name:`${t.person.fullName()} / ${t.internet.email()}`,withdrawTo:t.finance.iban(),amount:t.finance.amount({min:50,max:5e3,dec:2}),paymentMethod:t.helpers.arrayElement(["Bank Transfer","UPI","Crypto"]),note:t.lorem.words(5),comment:t.lorem.sentence(),status:t.helpers.arrayElement(["Approved","Pending","Rejected"]),date:t.date.recent().toLocaleDateString(),marketingName:t.person.firstName(),approvedBy:t.person.fullName()})),u=M(1),g=["All","Pending","Approved","Rejected"],y=["All","Cash","Bank"],s=T(),C=[s.accessor("id",{header:"ID",size:40}),s.accessor("name",{header:"Name/Email",size:180}),s.accessor("withdrawTo",{header:"Withdraw To",size:140}),s.accessor("amount",{header:"Amount IN USD",size:120}),s.accessor("paymentMethod",{header:"Payment Method",size:130}),s.accessor("note",{header:"Note",size:150}),s.accessor("comment",{header:"Comment",size:180,Cell:({cell:a})=>e.jsx(f,{sx:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:a.getValue()})}),s.accessor("status",{header:"Status",size:100,Cell:({cell:a})=>e.jsx(f,{sx:{color:a.getValue()==="Approved"?"green":a.getValue()==="Rejected"?"red":"orange",fontWeight:500,fontSize:"14px"},children:a.getValue()})}),s.accessor("date",{header:"Date",size:120}),s.accessor("marketingName",{header:"Marketing Name",size:140}),s.accessor("approvedBy",{header:"Approved/Rejected By",size:250})],R=a=>{const i=a.map(p=>p.original),o=h.json_to_sheet(i),l=h.book_new();h.book_append_sheet(l,o,"Sheet1"),A(l,"data.xlsx")};function _(){const[a,i]=x.useState(null),[o,l]=x.useState(null);b("(min-width:450px)"),x.useMemo(()=>!a||!o?u:u.filter(r=>m(r.date).isAfter(m(a).subtract(1,"day"))&&m(r.date).isBefore(m(o).add(1,"day"))),[a,o]);const p=D({columns:C,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:r})=>e.jsx(d,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(k,{variant:"contained",onClick:()=>R(u),startIcon:e.jsx(v,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"IB Withdraw Report"}),e.jsxs(d,{sx:{mt:"2rem",display:"flex",flexDirection:{xs:"column",lg:"row"},gap:"1rem"},children:[e.jsxs(d,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},gap:"1rem"},children:[e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"Status:"}),e.jsx(j,{items:g,selected:g[0],showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]}),e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"Payment Method:"}),e.jsx(j,{items:y,selected:y[0],showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]})]}),e.jsx(z,{dateAdapter:B,children:e.jsxs(d,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(w,{value:a,onChange:r=>i(r),slotProps:{textField:{size:"small"}}})]}),e.jsxs(n,{children:[e.jsx(c,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(w,{value:o,onChange:r=>l(r),slotProps:{textField:{size:"small"}}})]})]})})]}),e.jsx(n,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(S,{table:p})})]})}export{_ as default};
