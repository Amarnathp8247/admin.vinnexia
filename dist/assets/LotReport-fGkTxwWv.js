import{a4 as j,j as e,B as d,T as i,r as x,aw as S,az as z,S as p,I as f,aA as b,aB as T,at as w,h as D}from"./index-Bjlp2vES.js";import{f as r}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d as c}from"./dayjs.min-jyhz54Th.js";import{F as k}from"./FileDownload-DV9Ji3BV.js";import{u as h,w as v}from"./xlsx-D1NZSDnX.js";import{A as F}from"./AdapterDayjs-B9IfESkl.js";const A=(t=10)=>Array.from({length:t},(n,a)=>({id:a+1,login:r.number.int({min:1e5,max:999999}).toString(),date:r.date.recent().toLocaleDateString(),ticket:r.number.int({min:1e7,max:99999999}),symbol:r.finance.currencyCode(),price:r.finance.amount({min:1e3,max:3e3,dec:5}),profit:r.finance.amount({min:-1e3,max:2e3,dec:2}),volume:r.finance.amount({min:.01,max:5,dec:2}),action:r.helpers.arrayElement(["Buy","Sell"])})),u=A(1),g={name:"Total Lot",total:"0"};function L(){const{selectedTheme:t}=j(n=>n.themeMode);return e.jsxs(d,{sx:{width:"250px",display:"flex",justifyContent:"space-between",alignItems:"center",borderRadius:"1rem",p:"1rem",my:"2rem",bgcolor:t==="dark"?"#272727":"#e9e6e6"},children:[e.jsx(i,{fontWeight:"700",fontSize:"14px",children:g.name}),e.jsx(i,{fontSize:"1.5rem",fontWeight:"bold",children:g.total})]})}const s=w(),R=[s.accessor("login",{header:"Login",size:100}),s.accessor("date",{header:"Date",size:120}),s.accessor("ticket",{header:"Ticket",size:120}),s.accessor("symbol",{header:"Symbol",size:100}),s.accessor("price",{header:"Price",size:120}),s.accessor("profit",{header:"Profit",size:100,Cell:({cell:t})=>e.jsx(i,{sx:{color:parseFloat(t.getValue())>=0?"green":"red",fontWeight:500},children:t.getValue()})}),s.accessor("volume",{header:"Volume",size:100}),s.accessor("action",{header:"Action",size:100})],C=t=>{const n=t.map(m=>m.original),a=h.json_to_sheet(n),l=h.book_new();h.book_append_sheet(l,a,"Sheet1"),v(l,"data.xlsx")};function I(){const[t,n]=x.useState(null),[a,l]=x.useState(null),{selectedTheme:m}=j(o=>o.themeMode);x.useMemo(()=>!t||!a?u:u.filter(o=>c(o.date).isAfter(c(t).subtract(1,"day"))&&c(o.date).isBefore(c(a).add(1,"day"))),[t,a]);const y=S({columns:R,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:o})=>e.jsx(d,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(D,{variant:"contained",onClick:()=>C(u),startIcon:e.jsx(k,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(i,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Lot Report"}),e.jsx(L,{}),e.jsx(z,{dateAdapter:F,children:e.jsxs(d,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(p,{children:[e.jsx(f,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(b,{value:t,onChange:o=>n(o),slotProps:{textField:{size:"small"}}})]}),e.jsxs(p,{children:[e.jsx(f,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(b,{value:a,onChange:o=>l(o),slotProps:{textField:{size:"small"}}})]})]})}),e.jsx(d,{sx:{width:{xs:"100%",sm:"500px"},bgcolor:m==="dark"?"#272727":"#e9e6e6",mt:"2rem",p:"1rem",borderRadius:"1rem",height:"400px"},children:e.jsx(i,{fontWeight:700,fontSize:"1.2rem",children:"Symbol Wise Lots"})}),e.jsx(p,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(T,{table:y})})]})}export{I as default};
