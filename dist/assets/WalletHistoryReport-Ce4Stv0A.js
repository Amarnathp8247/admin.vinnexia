import{r as x,aw as j,j as e,T as D,B as l,S as c,I as p,aG as b,az as g,aA as u,aB as w,at as y,h as z}from"./index-BuLT-AS9.js";import{f as o}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d}from"./dayjs.min-DLFBMbJN.js";import{F as S}from"./FileDownload-Z7rQgJvD.js";import{u as h,w as T}from"./xlsx-D1NZSDnX.js";import{A}from"./AdapterDayjs-C1FaYym2.js";const k=(a=10)=>Array.from({length:a},(n,t)=>({id:t+1,name:`${o.person.fullName()} / ${o.internet.email()}`,method:o.helpers.arrayElement(["Bank Transfer","UPI","Crypto"]),toDeposit:o.finance.iban(),amount:o.finance.amount({min:50,max:5e3,dec:2}),note:o.lorem.words(5),date:o.date.recent().toLocaleDateString(),marketingName:o.person.firstName()})),f=k(1),s=y(),F=[s.accessor("id",{header:"ID",size:40}),s.accessor("name",{header:"Name/Email",size:180}),s.accessor("method",{header:"Method",size:120}),s.accessor("toDeposit",{header:"To Deposit",size:140}),s.accessor("amount",{header:"Amount IN USD",size:120}),s.accessor("note",{header:"Note",size:150}),s.accessor("date",{header:"Date",size:120}),s.accessor("marketingName",{header:"Marketing Name",size:140})],M=a=>{const n=a.map(m=>m.original),t=h.json_to_sheet(n),i=h.book_new();h.book_append_sheet(i,t,"Sheet1"),T(i,"data.xlsx")};function C(){const[a,n]=x.useState(null),[t,i]=x.useState(null);x.useMemo(()=>!a||!t?f:f.filter(r=>d(r.date).isAfter(d(a).subtract(1,"day"))&&d(r.date).isBefore(d(t).add(1,"day"))),[a,t]);const m=j({columns:F,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:r})=>e.jsx(l,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(z,{variant:"contained",onClick:()=>M(f),startIcon:e.jsx(S,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Wallet History Report"}),e.jsxs(l,{sx:{mt:"2rem",display:"flex",flexDirection:{xs:"column",lg:"row"},gap:"1rem"},children:[e.jsx(l,{children:e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"Method:"}),e.jsx(b,{items:["All","Admin Deposit","Admin Deposit"],selected:"All",showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]})}),e.jsx(g,{dateAdapter:A,children:e.jsxs(l,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(u,{value:a,onChange:r=>n(r),slotProps:{textField:{size:"small"}}})]}),e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(u,{value:t,onChange:r=>i(r),slotProps:{textField:{size:"small"}}})]})]})})]}),e.jsx(c,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(w,{table:m})})]})}export{C as default};
