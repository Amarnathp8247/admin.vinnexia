import{av as R,j as e,T as t,r as d,c$ as w,ay as L,B as F,S as r,aI as x,aD as f}from"./index-oaA_Ltxz.js";const c=R(),I=[c.display({header:"User",size:200,Cell:({row:a})=>{var n;return e.jsx(t,{children:(n=a.original.user)==null?void 0:n.email})}}),c.display({header:"Device",size:150,Cell:({row:a})=>{var n,l;return e.jsxs(t,{children:[(n=a.original.device)==null?void 0:n.model," (",(l=a.original.device)==null?void 0:l.os,")"]})}}),c.display({header:"Location",size:150,Cell:({row:a})=>{var n,l;return e.jsxs(t,{children:[(n=a.original.location)==null?void 0:n.city,", ",(l=a.original.location)==null?void 0:l.country]})}}),c.display({header:"Session Duration (sec)",size:150,Cell:({row:a})=>e.jsx(t,{children:a.original.duration})}),c.accessor("startTime",{header:"Started At",size:200,Cell:({row:a})=>e.jsx(t,{children:new Date(a.original.startTime).toLocaleString()})}),c.accessor("lastActivityTime",{header:"Last Activity",size:200,Cell:({row:a})=>e.jsx(t,{children:new Date(a.original.lastActivityTime).toLocaleString()})})];function G(){var p,j,y,v;const[a,n]=d.useState({pageIndex:0,pageSize:10}),[l,C]=d.useState(""),[u,S]=d.useState(null),[s,E]=d.useState({status:"",country:"",city:"",deviceType:null,os:null}),{data:o,isLoading:b,isError:g,error:m}=w({page:a.pageIndex+1,limit:a.limit,search:l,status:u==null?void 0:u.toLowerCase(),...s}),T=(p=m==null?void 0:m.data)==null?void 0:p.message,D=((j=o==null?void 0:o.data)==null?void 0:j.sessions)||[],A=L({columns:I,data:D,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:((v=(y=o==null?void 0:o.data)==null?void 0:y.pagination)==null?void 0:v.total)||0,state:{pagination:a,globalFilter:l,isLoading:b,showAlertBanner:g},initialState:{showGlobalFilter:!0},onPaginationChange:n,onGlobalFilterChange:C,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:g?{color:"error",children:T||"Error loading Documents List."}:void 0}),h=d.useCallback((i,P)=>{E(z=>({...z,[i]:P}))},[]);return e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"All Session List"}),e.jsxs(F,{sx:{display:"flex",gap:"2rem"},children:[e.jsxs(r,{children:[e.jsx(t,{sx:{mb:"5px",fontSize:"12px"},children:"Status"}),e.jsx(x,{value:u,items:["Active","Inactive"],onChange:i=>S(i.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(r,{children:[e.jsx(t,{sx:{mb:"5px",fontSize:"12px"},children:"Country"}),e.jsx(x,{value:s==null?void 0:s.country,items:["PENDING","APPROVED","REJECTED"],onChange:i=>h("country",i.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(r,{children:[e.jsx(t,{sx:{mb:"5px",fontSize:"12px"},children:"City"}),e.jsx(x,{value:s==null?void 0:s.city,items:["PENDING","APPROVED","REJECTED"],onChange:i=>h("city",i.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(r,{children:[e.jsx(t,{sx:{mb:"5px",fontSize:"12px"},children:"Device type"}),e.jsx(x,{value:s==null?void 0:s.deviceType,items:["PENDING","APPROVED","REJECTED"],onChange:i=>h("deviceType",i.target.value),width:{xs:"100%",sm:200}})]}),e.jsxs(r,{children:[e.jsx(t,{sx:{mb:"5px",fontSize:"12px"},children:"OS"}),e.jsx(x,{value:s==null?void 0:s.os,items:["PENDING","APPROVED","REJECTED"],onChange:i=>h("os",i.target.value),width:{xs:"100%",sm:200}})]})]}),e.jsx(r,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(f,{table:A})})]})}export{G as default};
