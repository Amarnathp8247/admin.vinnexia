import{r as x,ay as j,j as e,T as D,B as l,S as c,I as p,aI as b,aB as g,aC as u,aD as y,av as w,h as z}from"./index-oaA_Ltxz.js";import{f as t}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d}from"./dayjs.min-qfIxmpYN.js";import{F as S}from"./FileDownload-Cn3EXkSJ.js";import{u as h,w as T}from"./xlsx-D1NZSDnX.js";import{A as k}from"./AdapterDayjs-Dbd7Q14r.js";const A=(a=10)=>Array.from({length:a},(n,o)=>({id:o+1,name:`${t.person.fullName()} / ${t.internet.email()}`,method:t.helpers.arrayElement(["Bank Transfer","UPI","Crypto"]),toDeposit:t.finance.iban(),amount:t.finance.amount({min:50,max:5e3,dec:2}),note:t.lorem.words(5),date:t.date.recent().toLocaleDateString(),marketingName:t.person.firstName()})),f=A(1),s=w(),v=[s.accessor("id",{header:"ID",size:40}),s.accessor("name",{header:"Name/Email",size:180}),s.accessor("method",{header:"Method",size:120}),s.accessor("toDeposit",{header:"To Deposit",size:140}),s.accessor("amount",{header:"Amount IN USD",size:120}),s.accessor("note",{header:"Note",size:150}),s.accessor("date",{header:"Date",size:120}),s.accessor("marketingName",{header:"Marketing Name",size:140})],F=a=>{const n=a.map(m=>m.original),o=h.json_to_sheet(n),i=h.book_new();h.book_append_sheet(i,o,"Sheet1"),T(i,"data.xlsx")};function R(){const[a,n]=x.useState(null),[o,i]=x.useState(null);x.useMemo(()=>!a||!o?f:f.filter(r=>d(r.date).isAfter(d(a).subtract(1,"day"))&&d(r.date).isBefore(d(o).add(1,"day"))),[a,o]);const m=j({columns:v,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:r})=>e.jsx(l,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(z,{variant:"contained",onClick:()=>F(f),startIcon:e.jsx(S,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(D,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"Wallet History Report"}),e.jsxs(l,{sx:{mt:"2rem",display:"flex",flexDirection:{xs:"column",lg:"row"},gap:"1rem"},children:[e.jsx(l,{children:e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"Method:"}),e.jsx(b,{items:["All","Admin Deposit","Admin Deposit"],selected:"All",showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]})}),e.jsx(g,{dateAdapter:k,children:e.jsxs(l,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(u,{value:a,onChange:r=>n(r),slotProps:{textField:{size:"small"}}})]}),e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(u,{value:o,onChange:r=>i(r),slotProps:{textField:{size:"small"}}})]})]})})]}),e.jsx(c,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(y,{table:m})})]})}export{R as default};
