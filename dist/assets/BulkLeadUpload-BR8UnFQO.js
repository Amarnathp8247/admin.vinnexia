import{c as g,a as v,bX as S,j as a,S as y,B as j,T as r,h as c,G as d,I as w,b as k,k as m,o as F,aK as T}from"./index-BuLT-AS9.js";import{F as z}from"./FileUploadTextArea-bnnJ8qrf.js";import{C as B}from"./Card-C53o8KFk.js";const L=F({csv:T(File,{message:"Please upload a valid file"}).refine(s=>s&&s.type==="text/csv",{message:"Only CSV files are allowed"}).refine(s=>s&&s.size<=5*1024*1024,{message:"File size must not exceed 5MB"})}),U=()=>{const s=document.createElement("a");s.href="/1745934381704.csv",s.download="sample-leads.csv",s.click()};function E(){const s=g(),o={csv:null},{handleSubmit:x,reset:p,setValue:u,formState:{errors:n}}=v({resolver:k(L),defaultValues:o}),[h,{isLoading:f}]=S(),b=async t=>{var i,l;try{const e=await h(t).unwrap();e!=null&&e.status&&(s(m({open:!0,message:e==null?void 0:e.message,severity:"success"})),p(o))}catch(e){(i=e==null?void 0:e.data)!=null&&i.status||s(m({open:!0,message:((l=e==null?void 0:e.data)==null?void 0:l.message)||"Failed to submit. Please try again later.",severity:"error"}))}};return a.jsxs(y,{children:[a.jsxs(j,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx(r,{sx:{fontSize:"2rem",fontWeight:"700"},children:"Bulk Leads Upload"}),a.jsx(c,{variant:"contained",sx:{textTransform:"capitalize",boxShadow:"none",color:"white","&:hover":{boxShadow:"none"}},onClick:U,children:"Sample File"})]}),a.jsxs(B,{sx:{boxShadow:"0 0px 0px 0 rgba(0, 0, 0, 0.19), 0 0px 8px 0 rgba(0, 0, 0, 0.19)",borderRadius:"1.2rem",padding:{xs:"1rem",md:"2rem"},mt:"2rem"},component:"form",onSubmit:x(b),children:[a.jsx(d,{container:!0,size:12,spacing:3,children:a.jsxs(d,{item:!0,size:{xs:12,sm:6,md:4},children:[a.jsx(w,{sx:{mb:".5rem"},children:"Select File *"}),a.jsx(z,{onChange:t=>u("csv",t,{shouldValidate:!0}),extentionType:["text/csv"],acceptType:".csv,text/csv"}),n.csv&&a.jsx(r,{color:"error",fontSize:"14px",children:n.csv.message})]})}),a.jsx(c,{variant:"contained",type:"submit",disabled:f,sx:{textTransform:"capitalize",boxShadow:"none",color:"white",mt:"1.5rem",alignSelf:"self-start","&:hover":{boxShadow:"none"}},children:"Upload"})]})]})}export{E as default};
