import{Q as B,j as s,r as i,B as b,bn as D,T as z,g as P,bo as M,U as T,bp as W,P as V,bq as H,f as L,br as q,ai as w,bs as F}from"./index-Bjlp2vES.js";const S=B(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function K(t,r=300){const[o,f]=i.useState(t);return i.useEffect(()=>{const n=setTimeout(()=>f(t),r);return()=>clearTimeout(n)},[t,r]),o}function Q({items:t=[],value:r,onChange:o,width:f,onSearchChange:n,shouldBeFullwidth:C=!1,isLoading:k=!1,getOptionLabel:x=a=>a.name||a.label||"",multiple:l=!1,disabled:c=!1}){var I;const a=i.useRef(null),[A,p]=i.useState(!1),[u,h]=i.useState(""),m=K(u);i.useEffect(()=>{n&&n(m)},[m]);const d=l?t.filter(e=>(r||[]).includes(e.value)):t.find(e=>e.value===r),g=e=>{if(!c)if(l){const j=r!=null&&r.includes(e.value)?r.filter(R=>R!==e.value):[...r||[],e.value];o(j)}else o(e.value),p(!1)},y=t.filter(e=>x(e).toLowerCase().includes(u.toLowerCase())),E=()=>{c||(o(l?[]:null),h(""),n&&n(""))};return s.jsxs(b,{children:[s.jsx(D,{sx:{width:{xs:"100%",sm:f||"100%"}},fullWidth:C,variant:"outlined",size:"small",disabled:!0,children:s.jsxs(b,{ref:a,onClick:()=>!c&&p(e=>!e),sx:{display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #ccc",borderRadius:"4px",px:2,py:1,cursor:c?"not-allowed":"pointer",opacity:c?.6:1,minHeight:"40px",flexWrap:"wrap",gap:"4px"},children:[s.jsx(z,{children:l?d.length?d.map(x).join(", "):"Please choose...":d?x(d):"Please choose..."}),l&&d.length>0&&s.jsx(P,{size:"small",onClick:e=>{e.stopPropagation(),E()},children:s.jsx(S,{fontSize:"small"})}),s.jsx(M,{})]})}),!c&&s.jsx(T,{open:A,anchorEl:a.current,placement:"bottom-start",style:{zIndex:1300,width:(I=a.current)==null?void 0:I.offsetWidth},children:s.jsx(W,{onClickAway:()=>p(!1),children:s.jsxs(V,{children:[s.jsx(b,{px:1,py:1,children:s.jsx(H,{placeholder:"Search...",fullWidth:!0,value:u,onChange:e=>h(e.target.value),onMouseDown:e=>e.stopPropagation(),endAdornment:u&&s.jsx(L,{position:"end",children:s.jsx(P,{size:"small",onClick:()=>{h(""),n&&n("")},children:s.jsx(S,{fontSize:"small"})})}),sx:{border:"1px solid #ccc",borderRadius:"4px",px:1,py:.5}})}),s.jsx(q,{sx:{overflow:"auto",maxHeight:"300px"},children:k?s.jsxs(w,{disabled:!0,children:[s.jsx(F,{size:18,sx:{mr:1}})," Loading..."]}):y.length?y.map((e,j)=>s.jsx(w,{selected:l?r==null?void 0:r.includes(e.value):e.value===r,onClick:()=>g(e),children:s.jsx(z,{children:x(e)})},j)):s.jsx(w,{disabled:!0,children:"No results"})})]})})})]})}export{Q as S};
