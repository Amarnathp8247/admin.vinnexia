import{Q as c,j as e,X as q,n as E,B as i,S as o,T as t,cH as T,G as h,aF as B,dp as Q,ak as m}from"./index-DcG3qw6T.js";import{C as _}from"./Card-BPwIXuQj.js";import{A as G}from"./Avatar-DMY7JyDQ.js";import{C as X,S as Y}from"./Share-DQNvIiIn.js";import{C as J}from"./CheckCircle-CI_rUt8l.js";import{A as K,D as O}from"./Dns-Cs4hciED.js";import{P as Z}from"./Public-DqSO78SV.js";import{P as U}from"./Person-CZEW0X4Z.js";const ee=c([e.jsx("path",{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6"},"0"),e.jsx("path",{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12m0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17"},"1")],"AdminPanelSettings"),se=c(e.jsx("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"}),"Event"),F=c(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),te=c(e.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"}),"Lock"),ie=c(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Poll"),ae=c(e.jsx("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"}),"Tag"),p=({title:d,icon:n,children:s})=>{const r=E();return e.jsxs(_,{sx:{p:3,height:"100%",borderRadius:"24px",boxShadow:r.shadows[3],transition:"all 0.3s ease","&:hover":{transform:"translateY(-4px)",boxShadow:r.shadows[8]}},children:[e.jsxs(o,{direction:"row",spacing:1.5,alignItems:"center",mb:2.5,children:[e.jsx(G,{sx:{bgcolor:m(r.palette.primary.main,.1),color:r.palette.primary.main,width:40,height:40},children:n}),e.jsx(t,{variant:"h6",fontWeight:700,children:d})]}),e.jsx(o,{spacing:2,children:s})]})},l=({icon:d,label:n,value:s})=>e.jsxs(o,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(i,{sx:{color:"text.secondary",display:"flex"},children:d}),e.jsxs(i,{children:[e.jsx(t,{variant:"caption",color:"text.secondary",display:"block",children:n}),e.jsx(t,{variant:"body2",fontWeight:600,color:"text.primary",children:s||"N/A"})]})]});function pe(){var j,g,v,u,b,f,y,w,S,C,z,k,V,A,P,R,H;const{state:d}=q(),n=E(),s=d||{},r=a=>a?new Date(a).toLocaleString():"N/A";return e.jsxs(i,{sx:{pb:4},children:[e.jsxs(o,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:4,children:[e.jsxs(i,{children:[e.jsx(t,{variant:"h4",fontWeight:800,sx:{background:`linear-gradient(45deg, ${n.palette.primary.main}, ${n.palette.secondary.main})`,backgroundClip:"text",textFillColor:"transparent",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1},children:"Post Details"}),e.jsx(t,{variant:"body1",color:"text.secondary",children:"View analytics and details for this post"})]}),e.jsx(T,{label:(j=s.status)==null?void 0:j.toUpperCase(),color:s.status==="live"?"success":"default",sx:{fontWeight:700,borderRadius:"12px",height:32,px:1}})]}),e.jsxs(h,{container:!0,spacing:3,children:[e.jsx(h,{size:{xs:12,lg:7},children:e.jsxs(_,{sx:{borderRadius:"24px",boxShadow:n.shadows[4],overflow:"hidden"},children:[e.jsxs(i,{sx:{p:3,display:"flex",alignItems:"center",gap:2},children:[e.jsx(G,{src:(g=s.user)==null?void 0:g.avatar,alt:(v=s.user)==null?void 0:v.name,sx:{width:56,height:56,boxShadow:n.shadows[2]}}),e.jsxs(i,{sx:{flexGrow:1},children:[e.jsx(t,{variant:"h6",fontWeight:700,children:((u=s.user)==null?void 0:u.name)||((b=s.user)==null?void 0:b.email)||"Unknown User"}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:[(f=s.user)==null?void 0:f.email," â€¢ ",r(s.createdAt)]})]})]}),e.jsx(B,{}),e.jsxs(i,{sx:{p:3},children:[s.postType==="poll"?e.jsxs(i,{sx:{mb:3},children:[e.jsx(t,{variant:"h6",gutterBottom:!0,fontWeight:600,children:(y=s.poll)==null?void 0:y.question}),e.jsx(o,{spacing:2,sx:{mt:2},children:(S=(w=s.poll)==null?void 0:w.options)==null?void 0:S.map((a,x)=>{var D;const I=s.poll.options.reduce(($,N)=>{var L;return $+(((L=N.votes)==null?void 0:L.length)||0)},0),M=((D=a.votes)==null?void 0:D.length)||0,W=I>0?M/I*100:0;return e.jsxs(i,{children:[e.jsxs(i,{display:"flex",justifyContent:"space-between",mb:.5,children:[e.jsx(t,{variant:"body2",fontWeight:500,children:a.text}),e.jsxs(t,{variant:"caption",color:"text.secondary",children:[M," votes (",Math.round(W),"%)"]})]}),e.jsx(Q,{variant:"determinate",value:W,sx:{height:10,borderRadius:5,bgcolor:m(n.palette.primary.main,.1),"& .MuiLinearProgress-bar":{borderRadius:5}}})]},a._id||x)})}),e.jsxs(o,{direction:"row",justifyContent:"space-between",mt:3,children:[e.jsx(T,{icon:e.jsx(ie,{fontSize:"small"}),label:(C=s.poll)!=null&&C.allowMultipleVotes?"Multiple Votes Allowed":"Single Vote",size:"small",variant:"outlined",sx:{borderRadius:"8px"}}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"flex",alignItems:"center"},children:["Ends: ",r((z=s.poll)==null?void 0:z.endsAt)]})]})]}):e.jsx(t,{variant:"body1",sx:{fontSize:"1.1rem",mb:3},children:(k=s.content)==null?void 0:k.text}),((V=s.media)==null?void 0:V.length)>0&&e.jsx(i,{sx:{display:"grid",gridTemplateColumns:s.media.length===1?"1fr":"repeat(auto-fit, minmax(200px, 1fr))",gap:2,borderRadius:"16px",overflow:"hidden",mb:3},children:s.media.map((a,x)=>e.jsx(i,{component:"img",src:a.url,alt:"Post media",sx:{width:"100%",height:"100%",maxHeight:500,objectFit:"cover",borderRadius:"12px",boxShadow:n.shadows[2]}},a._id||x))})]}),e.jsx(B,{}),e.jsxs(i,{sx:{p:2,bgcolor:m(n.palette.background.default,.5),display:"flex",justifyContent:"space-around"},children:[e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(F,{color:"error"}),e.jsxs(t,{fontWeight:600,children:[((A=s.likes)==null?void 0:A.length)||0," Likes"]})]}),e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(X,{color:"action"}),e.jsxs(t,{fontWeight:600,children:[s.commentsCount," Comments"]})]}),e.jsxs(o,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(Y,{color:"primary"}),e.jsxs(t,{fontWeight:600,children:[s.sharesCount," Shares"]})]})]})]})}),e.jsx(h,{size:{xs:12,lg:5},children:e.jsxs(o,{spacing:3,children:[e.jsxs(p,{title:"Review Status",icon:e.jsx(ee,{}),children:[e.jsx(l,{icon:e.jsx(J,{fontSize:"small",color:s.reviewedBy?"success":"disabled"}),label:"Reviewed By",value:s.reviewedBy||"Pending"}),e.jsx(l,{icon:e.jsx(K,{fontSize:"small"}),label:"Reviewed At",value:r(s.reviewedAt)}),e.jsx(l,{icon:s.visibility==="public"?e.jsx(Z,{fontSize:"small"}):e.jsx(te,{fontSize:"small"}),label:"Visibility",value:(P=s.visibility)==null?void 0:P.toUpperCase()})]}),e.jsxs(p,{title:"System Details",icon:e.jsx(O,{}),children:[e.jsx(l,{icon:e.jsx(ae,{fontSize:"small"}),label:"Post ID",value:s._id}),e.jsx(l,{icon:e.jsx(U,{fontSize:"small"}),label:"User ID",value:(R=s.user)==null?void 0:R._id}),e.jsx(l,{icon:e.jsx(se,{fontSize:"small"}),label:"Last Updated",value:r(s.updatedAt)})]}),((H=s.likes)==null?void 0:H.length)>0&&e.jsxs(p,{title:"Recent Likes",icon:e.jsx(F,{}),children:[s.likes.slice(0,5).map((a,x)=>e.jsx(l,{icon:e.jsx(U,{fontSize:"small"}),label:r(a.createdAt),value:`User: ${a.user}`},x)),s.likes.length>5&&e.jsxs(t,{variant:"caption",color:"text.secondary",align:"center",display:"block",children:["+ ",s.likes.length-5," more"]})]})]})})]})]})}export{pe as default};
