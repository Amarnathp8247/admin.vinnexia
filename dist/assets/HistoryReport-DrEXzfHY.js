import{r as x,Y as g,aw as j,j as e,T as f,B as l,S as c,I as p,aG as y,az as w,aA as b,aB as z,at as D,h as S}from"./index-DcG3qw6T.js";import{f as a}from"./chunk-IHAWQA3S-C2e_0_q3.js";import{d as m}from"./dayjs.min-CpAZ4qKR.js";import{F as T}from"./FileDownload-rr-bL3sD.js";import{u as h,w as k}from"./xlsx-D1NZSDnX.js";import{A as v}from"./AdapterDayjs-DPH4TRzJ.js";const C=(o=10)=>Array.from({length:o},(n,s)=>({id:s+1,login:a.number.int({min:1e5,max:999999}).toString(),date:a.date.recent().toLocaleDateString(),ticket:a.number.int({min:1e7,max:99999999}),symbol:a.finance.currencyCode(),price:a.finance.amount({min:1e3,max:3e3,dec:5}),profit:a.finance.amount({min:-1e3,max:2e3,dec:2}),volume:a.finance.amount({min:.01,max:5,dec:2}),commission:a.finance.amount({min:-20,max:0,dec:2}),expertPositionId:a.string.uuid(),entry:a.helpers.arrayElement(["In","Out"]),action:a.helpers.arrayElement(["Buy","Sell"]),comment:a.lorem.sentence()})),u=C(1),t=D(),F=[t.accessor("login",{header:"Login",size:100}),t.accessor("date",{header:"Date",size:120}),t.accessor("ticket",{header:"Ticket",size:120}),t.accessor("symbol",{header:"Symbol",size:100}),t.accessor("price",{header:"Price",size:120}),t.accessor("profit",{header:"Profit",size:100,Cell:({cell:o})=>e.jsx(f,{sx:{color:parseFloat(o.getValue())>=0?"green":"red",fontWeight:500},children:o.getValue()})}),t.accessor("volume",{header:"Volume",size:100}),t.accessor("commission",{header:"Commission",size:110}),t.accessor("expertPositionId",{header:"ExpertPosition ID",size:200}),t.accessor("entry",{header:"Entry",size:80}),t.accessor("action",{header:"Action",size:80}),t.accessor("comment",{header:"Comment",size:180,Cell:({cell:o})=>e.jsx(f,{sx:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:o.getValue()})})],A=o=>{const n=o.map(d=>d.original),s=h.json_to_sheet(n),i=h.book_new();h.book_append_sheet(i,s,"Sheet1"),k(i,"data.xlsx")};function _(){const[o,n]=x.useState(null),[s,i]=x.useState(null);g("(min-width:450px)"),x.useMemo(()=>!o||!s?u:u.filter(r=>m(r.date).isAfter(m(o).subtract(1,"day"))&&m(r.date).isBefore(m(s).add(1,"day"))),[o,s]);const d=j({columns:F,data:[],columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",renderTopToolbarCustomActions:({table:r})=>e.jsx(l,{sx:{display:"flex",gap:"16px",padding:"8px",flexWrap:"wrap"},children:e.jsx(S,{variant:"contained",onClick:()=>A(u),startIcon:e.jsx(T,{sx:{color:"white"}}),sx:{textTransform:"none",color:"white",boxShadow:"none","&:hover":{boxShadow:"none"}},children:"Excel"})})});return e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",children:"History Report"}),e.jsxs(l,{sx:{mt:"2rem",display:"flex",flexDirection:{xs:"column",lg:"row"},gap:"1rem"},children:[e.jsx(l,{children:e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"MT5 ID:"}),e.jsx(y,{items:["1000","1001","1002"],selected:"1000",showDefaultOption:!1,width:{xs:"100%",sm:"200px"}})]})}),e.jsx(w,{dateAdapter:v,children:e.jsxs(l,{sx:{display:"flex",gap:"1rem",flexDirection:{xs:"column",sm:"row"}},children:[e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"From:"}),e.jsx(b,{value:o,onChange:r=>n(r),slotProps:{textField:{size:"small"}}})]}),e.jsxs(c,{children:[e.jsx(p,{sx:{mb:".5rem",fontSize:"12px"},children:"To:"}),e.jsx(b,{value:s,onChange:r=>i(r),slotProps:{textField:{size:"small"}}})]})]})})]}),e.jsx(c,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:e.jsx(z,{table:d})})]})}export{_ as default};
