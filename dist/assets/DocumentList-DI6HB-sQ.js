import{j as a,T as o,G as p,at as C,Y as E,r as d,aT as z,aw as P,S as x,aG as D,aB as A}from"./index-BuLT-AS9.js";import{M as u}from"./ModalComponent-CNxH8GAn.js";import{E as R}from"./EditDocumentModalContent-OppKqQIE.js";import{V as v}from"./Visibility-B0ASwFBW.js";import"./editDocumentSchema-BqBldeLN.js";function I({data:e}){return a.jsxs(a.Fragment,{children:[a.jsx(o,{fontSize:"1.5rem",fontWeight:"700",mb:"1rem",children:"Extra documents"}),a.jsx(p,{container:!0,spacing:2,children:e==null?void 0:e.map((t,r)=>a.jsx(p,{size:{xs:6,sm:3},children:a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:t,alt:"hasExtraDocs",style:{width:"100px",height:"100px",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})},r)}))})]})}const s=C(),M=[s.accessor("id",{header:"ID",size:40}),s.accessor("userId",{header:"User Id",size:100}),s.display({header:"Name",size:120,Cell:({row:e})=>{var r,n;const t=(n=(r=e==null?void 0:e.original)==null?void 0:r.user)==null?void 0:n.name;return a.jsx(o,{children:t})}}),s.display({header:"Email",size:120,Cell:({row:e})=>{var r,n;const t=(n=(r=e==null?void 0:e.original)==null?void 0:r.user)==null?void 0:n.email;return a.jsx(o,{children:t})}}),s.display({id:"poi",header:"POI",Cell:({row:e})=>{var r;const t=(r=e==null?void 0:e.original)==null?void 0:r.poi;return t?a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:t,alt:"POI",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):a.jsx(o,{variant:"body2",color:"textSecondary",children:"No POI"})},size:100}),s.display({id:"poa",header:"POA",Cell:({row:e})=>{var r;const t=(r=e==null?void 0:e.original)==null?void 0:r.poa;return t?a.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:a.jsx("img",{src:t,alt:"POA",style:{width:"50px",height:"auto",borderRadius:"4px",boxShadow:"0 2px 6px rgba(0,0,0,0.15)"}})}):a.jsx(o,{variant:"body2",color:"textSecondary",children:"No POA"})},size:100}),s.display({id:"extraDoc",header:"Extra Document",Cell:({row:e})=>{var n;const t=(n=e==null?void 0:e.original)==null?void 0:n.extraDocs,r=E("(max-width:600px)");return(t==null?void 0:t.length)>0?a.jsx(u,{Content:I,contentData:t,type:"icon",btnName:v,modalWidth:r?"95%":500}):a.jsx(o,{variant:"body2",color:"textSecondary",children:"No Extra Document"})}}),s.accessor("approvedBy",{header:"Approved / Rejected By",size:150}),s.accessor("remark",{header:"Remark"}),s.accessor("status",{header:"Status",size:100}),s.accessor("createdAt",{header:"Uploaded At",size:200,Cell:({row:e})=>a.jsx(o,{children:new Date(e.original.createdAt).toLocaleString()})}),s.display({id:"action",header:"Action",size:80,Cell:({row:e})=>a.jsx(u,{modalWidth:{xs:"90%",sm:600},btnName:"Edit",Content:R,contentData:e.original.id})})];function L(){var m;const[e,t]=d.useState({pageIndex:0,pageSize:10}),[r,n]=d.useState(""),[c,g]=d.useState(null),{data:i,isLoading:b,isError:h,error:l}=z({page:e.pageIndex+1,sizePerPage:e.pageSize,search:r,status:c}),j=(m=l==null?void 0:l.data)==null?void 0:m.message,y=(i==null?void 0:i.data)||[],S=P({columns:M,data:y,enableColumnFilters:!1,enableSorting:!1,enableColumnActions:!1,manualPagination:!0,manualFiltering:!0,rowCount:(i==null?void 0:i.totalRecords)||0,state:{pagination:e,globalFilter:r,isLoading:b,showAlertBanner:h},initialState:{showGlobalFilter:!0},onPaginationChange:t,onGlobalFilterChange:n,columnFilterDisplayMode:"popover",paginationDisplayMode:"pages",positionToolbarAlertBanner:"bottom",muiToolbarAlertBannerProps:h?{color:"error",children:j||"Error loading Documents List."}:void 0});return a.jsxs(a.Fragment,{children:[a.jsx(o,{variant:"h5",fontWeight:"700",fontSize:"1.8rem",mb:"2rem",children:"Documents List"}),a.jsxs(x,{children:[a.jsx(o,{sx:{mb:"5px",fontSize:"12px"},children:"Status"}),a.jsx(D,{value:c,items:["PENDING","APPROVED","REJECTED"],onChange:f=>g(f.target.value),width:{xs:"100%",sm:200}})]}),a.jsx(x,{sx:{marginTop:"2rem",borderRadius:"1.2rem",overflow:"hidden"},children:a.jsx(A,{table:S})})]})}export{L as default};
